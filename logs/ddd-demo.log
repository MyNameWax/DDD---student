2024-06-21T00:00:18.769+08:00  INFO 21868 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 21868 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:00:18.774+08:00 DEBUG 21868 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:00:18.775+08:00  INFO 21868 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:00:19.656+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:00:19.658+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:00:19.680+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T00:00:19.685+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:00:19.686+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:00:19.694+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:00:19.706+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:00:19.707+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:00:19.721+08:00  INFO 21868 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T00:00:20.044+08:00 ERROR 21868 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:00:20.166+08:00  INFO 21868 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:00:20.176+08:00  INFO 21868 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:00:20.176+08:00  INFO 21868 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:00:20.221+08:00  INFO 21868 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:00:20.221+08:00  INFO 21868 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1406 ms
2024-06-21T00:00:20.456+08:00 DEBUG 21868 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:00:20.707+08:00  INFO 21868 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:00:20.736+08:00  WARN 21868 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esUserServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\es\service\impl\EsUserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserMapper': Unsatisfied dependency expressed through field 'client': No qualifying bean of type 'org.elasticsearch.client.RestHighLevelClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-06-21T00:00:20.748+08:00  INFO 21868 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:00:20.759+08:00  INFO 21868 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:00:20.772+08:00 ERROR 21868 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field client in cn.easyes.starter.register.MapperFactoryBean required a bean of type 'org.elasticsearch.client.RestHighLevelClient' that could not be found.


Action:

Consider defining a bean of type 'org.elasticsearch.client.RestHighLevelClient' in your configuration.

2024-06-21T00:04:25.755+08:00  INFO 6488 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 6488 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:04:25.757+08:00 DEBUG 6488 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:04:25.757+08:00  INFO 6488 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:04:26.541+08:00  INFO 6488 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:04:26.543+08:00  INFO 6488 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:04:26.571+08:00  INFO 6488 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2024-06-21T00:04:26.925+08:00 ERROR 6488 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:04:27.060+08:00  INFO 6488 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:04:27.069+08:00  INFO 6488 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:04:27.069+08:00  INFO 6488 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:04:27.119+08:00  INFO 6488 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:04:27.119+08:00  INFO 6488 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1329 ms
2024-06-21T00:04:27.360+08:00 DEBUG 6488 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:04:27.573+08:00  INFO 6488 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:04:27.599+08:00  WARN 6488 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'esUserServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\es\service\impl\EsUserServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserMapper': Unsatisfied dependency expressed through field 'client': No qualifying bean of type 'org.elasticsearch.client.RestHighLevelClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-06-21T00:04:27.613+08:00  INFO 6488 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:04:27.623+08:00  INFO 6488 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:04:27.636+08:00 ERROR 6488 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field client in cn.easyes.starter.register.MapperFactoryBean required a bean of type 'org.elasticsearch.client.RestHighLevelClient' that could not be found.


Action:

Consider defining a bean of type 'org.elasticsearch.client.RestHighLevelClient' in your configuration.

2024-06-21T00:17:17.715+08:00  INFO 42944 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 42944 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:17:17.717+08:00 DEBUG 42944 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:17:17.717+08:00  INFO 42944 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:17:18.433+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:17:18.435+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:17:18.539+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 101 ms. Found 1 Elasticsearch repository interface.
2024-06-21T00:17:18.548+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:17:18.549+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:17:18.557+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:17:18.565+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:17:18.566+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:17:18.578+08:00  INFO 42944 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.es.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T00:17:18.578+08:00  INFO 42944 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-06-21T00:17:18.849+08:00 ERROR 42944 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:17:18.988+08:00  INFO 42944 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:17:19.000+08:00  INFO 42944 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:17:19.000+08:00  INFO 42944 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:17:19.047+08:00  INFO 42944 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:17:19.047+08:00  INFO 42944 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1303 ms
2024-06-21T00:17:19.303+08:00 DEBUG 42944 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:17:19.513+08:00  INFO 42944 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:17:20.130+08:00  WARN 42944 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\repository\UserQueryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T00:17:20.141+08:00  INFO 42944 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:17:20.150+08:00  INFO 42944 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:17:20.165+08:00 ERROR 42944 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\repository\UserQueryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T00:22:59.692+08:00  INFO 23452 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 23452 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:22:59.694+08:00 DEBUG 23452 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:22:59.695+08:00  INFO 23452 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:23:00.412+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:23:00.414+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:23:00.522+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 1 Elasticsearch repository interface.
2024-06-21T00:23:00.528+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:23:00.528+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:23:00.535+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:23:00.543+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:23:00.544+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:23:00.552+08:00  INFO 23452 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.es.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T00:23:00.553+08:00  INFO 23452 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T00:23:00.844+08:00 ERROR 23452 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:23:00.988+08:00  INFO 23452 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:23:00.998+08:00  INFO 23452 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:23:00.999+08:00  INFO 23452 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:23:01.041+08:00  INFO 23452 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:23:01.042+08:00  INFO 23452 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1310 ms
2024-06-21T00:23:01.279+08:00 DEBUG 23452 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:23:01.492+08:00  INFO 23452 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:23:02.002+08:00  WARN 23452 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl': Unsatisfied dependency expressed through field 'esUserRepository': Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T00:23:02.014+08:00  INFO 23452 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:23:02.025+08:00  INFO 23452 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:23:02.036+08:00 ERROR 23452 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl': Unsatisfied dependency expressed through field 'esUserRepository': Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1421) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 18 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T00:24:22.789+08:00  INFO 30656 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 30656 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:24:22.790+08:00 DEBUG 30656 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:24:22.791+08:00  INFO 30656 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:24:23.597+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:24:23.599+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:24:23.708+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 1 Elasticsearch repository interface.
2024-06-21T00:24:23.714+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:24:23.714+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:24:23.720+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:24:23.728+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:24:23.729+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:24:23.738+08:00  INFO 30656 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.es.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T00:24:23.739+08:00  INFO 30656 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T00:24:24.015+08:00 ERROR 30656 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:24:24.146+08:00  INFO 30656 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:24:24.155+08:00  INFO 30656 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:24:24.156+08:00  INFO 30656 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:24:24.201+08:00  INFO 30656 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:24:24.203+08:00  INFO 30656 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1377 ms
2024-06-21T00:24:24.433+08:00 DEBUG 30656 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:24:24.663+08:00  INFO 30656 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:24:25.206+08:00  WARN 30656 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\repository\UserQueryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T00:24:25.217+08:00  INFO 30656 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:24:25.227+08:00  INFO 30656 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:24:25.241+08:00 ERROR 30656 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryRepositoryImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\infrastructure\repository\UserQueryRepositoryImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.es.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T00:27:37.804+08:00  INFO 4492 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 4492 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:27:37.806+08:00 DEBUG 4492 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:27:37.807+08:00  INFO 4492 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:27:38.545+08:00  INFO 4492 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:27:38.549+08:00  INFO 4492 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:27:38.574+08:00  INFO 4492 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2024-06-21T00:27:38.920+08:00 ERROR 4492 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:27:39.076+08:00  INFO 4492 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:27:39.088+08:00  INFO 4492 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:27:39.088+08:00  INFO 4492 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:27:39.147+08:00  INFO 4492 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:27:39.148+08:00  INFO 4492 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1305 ms
2024-06-21T00:27:39.427+08:00 DEBUG 4492 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:27:39.681+08:00  INFO 4492 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:27:39.700+08:00  WARN 4492 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\interaction\controller\UserController.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'cn.rzpt.user.domain.repository.UserQueryRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2024-06-21T00:27:39.718+08:00  INFO 4492 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T00:27:39.729+08:00  INFO 4492 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:27:39.745+08:00 ERROR 4492 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in cn.rzpt.user.interaction.controller.UserController required a bean of type 'cn.rzpt.user.domain.repository.UserQueryRepository' that could not be found.


Action:

Consider defining a bean of type 'cn.rzpt.user.domain.repository.UserQueryRepository' in your configuration.

2024-06-21T00:28:03.841+08:00  INFO 19300 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 19300 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:28:03.843+08:00 DEBUG 19300 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:28:03.844+08:00  INFO 19300 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:28:04.508+08:00  INFO 19300 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:28:04.509+08:00  INFO 19300 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:28:04.534+08:00  INFO 19300 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2024-06-21T00:28:04.894+08:00 ERROR 19300 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:28:05.050+08:00  INFO 19300 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:28:05.059+08:00  INFO 19300 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:28:05.060+08:00  INFO 19300 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:28:05.097+08:00  INFO 19300 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:28:05.098+08:00  INFO 19300 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1221 ms
2024-06-21T00:28:05.364+08:00 DEBUG 19300 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:28:05.619+08:00  INFO 19300 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:28:05.804+08:00  INFO 19300 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4470106b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@690ed13a, org.springframework.security.web.context.SecurityContextHolderFilter@11d1735e, org.springframework.security.web.header.HeaderWriterFilter@304068, org.springframework.security.web.authentication.logout.LogoutFilter@1c3d9e28, cn.rzpt.user.application.filter.TokenFilter@4ff66917, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ca5cb99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@590dea35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@681311a7, org.springframework.security.web.session.SessionManagementFilter@474ce6b8, org.springframework.security.web.access.ExceptionTranslationFilter@43b172e3, org.springframework.security.web.access.intercept.AuthorizationFilter@c5a2d5]
2024-06-21T00:28:06.195+08:00  INFO 19300 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T00:28:06.203+08:00  INFO 19300 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.764 seconds (process running for 3.187)
2024-06-21T00:28:06.206+08:00  INFO 19300 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T00:40:58.892+08:00  INFO 35112 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 35112 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:40:58.894+08:00 DEBUG 35112 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:40:58.895+08:00  INFO 35112 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:40:59.649+08:00  WARN 35112 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchClientConfigurations$ElasticsearchClientConfiguration; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]] for bean 'elasticsearchClient' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=elasticsearchConfig; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class]] bound.
2024-06-21T00:40:59.656+08:00  INFO 35112 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:40:59.671+08:00 ERROR 35112 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'elasticsearchClient', defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-06-21T00:41:32.966+08:00  INFO 34964 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 34964 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:41:32.968+08:00 DEBUG 34964 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:41:32.969+08:00  INFO 34964 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:41:33.728+08:00  WARN 34964 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchClientConfigurations$ElasticsearchClientConfiguration; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]] for bean 'elasticsearchClient' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=elasticsearchConfig; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class]] bound.
2024-06-21T00:41:33.736+08:00  INFO 34964 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:41:33.751+08:00 ERROR 34964 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'elasticsearchClient', defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-06-21T00:41:56.941+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 19640 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:41:56.943+08:00 DEBUG 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:41:56.944+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:41:57.581+08:00  WARN 19640 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchClientConfigurations$ElasticsearchClientConfiguration; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]] for bean 'elasticsearchClient' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=elasticsearchConfig; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class]] bound.
2024-06-21T00:41:57.587+08:00  INFO 19640 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:41:57.598+08:00 ERROR 19640 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'elasticsearchClient', defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-06-21T00:42:30.550+08:00  INFO 37544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 37544 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:42:30.552+08:00 DEBUG 37544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:42:30.552+08:00  INFO 37544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:42:31.153+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:42:31.154+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:42:31.169+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T00:42:31.173+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:42:31.173+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:42:31.182+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:42:31.189+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:42:31.190+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:42:31.200+08:00  INFO 37544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T00:42:31.508+08:00 ERROR 37544 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:42:31.633+08:00  INFO 37544 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:42:31.642+08:00  INFO 37544 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:42:31.642+08:00  INFO 37544 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:42:31.683+08:00  INFO 37544 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:42:31.683+08:00  INFO 37544 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms
2024-06-21T00:42:31.906+08:00 DEBUG 37544 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:42:32.113+08:00  INFO 37544 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:42:32.273+08:00  INFO 37544 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bd4780c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c154508, org.springframework.security.web.context.SecurityContextHolderFilter@1d06801f, org.springframework.security.web.header.HeaderWriterFilter@546083d6, org.springframework.security.web.authentication.logout.LogoutFilter@36cf16a6, cn.rzpt.user.application.filter.TokenFilter@605c7a9e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ffbf0ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e2772a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@395eb363, org.springframework.security.web.session.SessionManagementFilter@1dfe5dd1, org.springframework.security.web.access.ExceptionTranslationFilter@7f77e065, org.springframework.security.web.access.intercept.AuthorizationFilter@14b26e90]
2024-06-21T00:42:32.854+08:00  INFO 37544 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T00:42:32.862+08:00  INFO 37544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.641 seconds (process running for 3.053)
2024-06-21T00:42:32.865+08:00  INFO 37544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T00:42:41.521+08:00  INFO 25804 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 25804 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:42:41.523+08:00 DEBUG 25804 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:42:41.524+08:00  INFO 25804 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:42:42.152+08:00  WARN 25804 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchClientConfigurations$ElasticsearchClientConfiguration; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class]] for bean 'elasticsearchClient' since there is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=elasticsearchConfig; factoryMethodName=elasticsearchClient; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class]] bound.
2024-06-21T00:42:42.159+08:00  INFO 25804 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T00:42:42.170+08:00 ERROR 25804 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'elasticsearchClient', defined in class path resource [org/springframework/boot/autoconfigure/elasticsearch/ElasticsearchClientConfigurations$ElasticsearchClientConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [cn/rzpt/user/infrastructure/config/ElasticsearchConfig.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2024-06-21T00:43:21.924+08:00  INFO 23980 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 23980 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T00:43:21.925+08:00 DEBUG 23980 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T00:43:21.925+08:00  INFO 23980 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T00:43:22.599+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:43:22.600+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:43:22.613+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T00:43:22.623+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:43:22.623+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T00:43:22.627+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T00:43:22.635+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T00:43:22.635+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T00:43:22.645+08:00  INFO 23980 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T00:43:22.956+08:00 ERROR 23980 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T00:43:23.082+08:00  INFO 23980 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T00:43:23.092+08:00  INFO 23980 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T00:43:23.093+08:00  INFO 23980 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T00:43:23.137+08:00  INFO 23980 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T00:43:23.137+08:00  INFO 23980 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1177 ms
2024-06-21T00:43:23.356+08:00 DEBUG 23980 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T00:43:23.573+08:00  INFO 23980 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T00:43:23.918+08:00  INFO 23980 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79424f25, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fd4e67f, org.springframework.security.web.context.SecurityContextHolderFilter@6f22c1f1, org.springframework.security.web.header.HeaderWriterFilter@195cbf5e, org.springframework.security.web.authentication.logout.LogoutFilter@37dec463, cn.rzpt.user.application.filter.TokenFilter@376af784, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185a0811, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6abb44cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59b1edab, org.springframework.security.web.session.SessionManagementFilter@5a537a16, org.springframework.security.web.access.ExceptionTranslationFilter@726ef6aa, org.springframework.security.web.access.intercept.AuthorizationFilter@3f033664]
2024-06-21T00:43:24.392+08:00  INFO 23980 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T00:43:24.399+08:00  INFO 23980 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.824 seconds (process running for 3.236)
2024-06-21T00:43:24.401+08:00  INFO 23980 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:01:26.179+08:00  INFO 44480 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 44480 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:01:26.180+08:00 DEBUG 44480 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:01:26.182+08:00  INFO 44480 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:01:27.022+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:01:27.023+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:01:27.133+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:01:27.138+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:01:27.139+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:01:27.147+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:01:27.157+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:01:27.158+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:01:27.169+08:00  INFO 44480 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:01:27.169+08:00  INFO 44480 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:01:27.480+08:00 ERROR 44480 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:01:27.623+08:00  INFO 44480 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:01:27.636+08:00  INFO 44480 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:01:27.637+08:00  INFO 44480 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:01:27.690+08:00  INFO 44480 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:01:27.690+08:00  INFO 44480 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1474 ms
2024-06-21T01:01:27.946+08:00 DEBUG 44480 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:01:28.230+08:00  INFO 44480 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:01:28.834+08:00  WARN 44480 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:01:28.846+08:00  INFO 44480 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:01:28.858+08:00  INFO 44480 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:01:28.872+08:00 ERROR 44480 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: node: http://localhost:9200/, status: 404, [es/indices.create] Expecting JSON data but response content-type is: text/plain; charset=utf-8
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: node: http://localhost:9200/, status: 404, [es/indices.create] Expecting JSON data but response content-type is: text/plain; charset=utf-8
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: co.elastic.clients.transport.TransportException: node: http://localhost:9200/, status: 404, [es/indices.create] Expecting JSON data but response content-type is: text/plain; charset=utf-8
	at co.elastic.clients.transport.ElasticsearchTransportBase.checkJsonContentType(ElasticsearchTransportBase.java:471) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.getApiResponse(ElasticsearchTransportBase.java:334) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:147) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:02:30.213+08:00  INFO 8700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 8700 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:02:30.215+08:00 DEBUG 8700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:02:30.215+08:00  INFO 8700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:02:30.836+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:02:30.837+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:02:30.938+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:02:30.942+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:02:30.943+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:02:30.950+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:02:30.958+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:02:30.959+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:02:30.968+08:00  INFO 8700 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:02:30.969+08:00  INFO 8700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:02:31.238+08:00 ERROR 8700 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:02:31.361+08:00  INFO 8700 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:02:31.369+08:00  INFO 8700 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:02:31.369+08:00  INFO 8700 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:02:31.412+08:00  INFO 8700 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:02:31.412+08:00  INFO 8700 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1164 ms
2024-06-21T01:02:31.636+08:00 DEBUG 8700 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:02:31.847+08:00  INFO 8700 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:02:32.413+08:00  WARN 8700 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:02:32.425+08:00  INFO 8700 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:02:32.434+08:00  INFO 8700 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:02:32.444+08:00 ERROR 8700 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/name], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/name], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/name], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:04:15.823+08:00  INFO 2476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 2476 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:04:15.825+08:00 DEBUG 2476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:04:15.826+08:00  INFO 2476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:04:16.455+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:04:16.457+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:04:16.551+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 91 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:04:16.556+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:04:16.556+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:04:16.561+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:04:16.569+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:04:16.570+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:04:16.578+08:00  INFO 2476 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:04:16.579+08:00  INFO 2476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:04:16.840+08:00 ERROR 2476 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:04:16.966+08:00  INFO 2476 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:04:16.974+08:00  INFO 2476 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:04:16.974+08:00  INFO 2476 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:04:17.015+08:00  INFO 2476 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:04:17.015+08:00  INFO 2476 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1159 ms
2024-06-21T01:04:17.301+08:00 DEBUG 2476 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:04:17.511+08:00  INFO 2476 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:04:18.058+08:00  WARN 2476 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:04:18.069+08:00  INFO 2476 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:04:18.080+08:00  INFO 2476 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:04:18.091+08:00 ERROR 2476 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:09:51.193+08:00  INFO 9748 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 9748 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:09:51.195+08:00 DEBUG 9748 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:09:51.196+08:00  INFO 9748 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:09:51.926+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:09:51.928+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:09:51.939+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:09:51.945+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:09:51.945+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:09:51.949+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:09:51.956+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:09:51.957+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:09:51.968+08:00  INFO 9748 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:09:52.278+08:00 ERROR 9748 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:09:52.401+08:00  INFO 9748 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:09:52.408+08:00  INFO 9748 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:09:52.408+08:00  INFO 9748 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:09:52.446+08:00  INFO 9748 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:09:52.446+08:00  INFO 9748 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1222 ms
2024-06-21T01:09:52.670+08:00 DEBUG 9748 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:09:52.881+08:00  INFO 9748 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:09:53.036+08:00  INFO 9748 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c788d08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2adc1e84, org.springframework.security.web.context.SecurityContextHolderFilter@24de63b, org.springframework.security.web.header.HeaderWriterFilter@688d619c, org.springframework.security.web.authentication.logout.LogoutFilter@4946485c, cn.rzpt.user.application.filter.TokenFilter@3eac2e8a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50f05307, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f908bc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a99fa07, org.springframework.security.web.session.SessionManagementFilter@19d3f6ad, org.springframework.security.web.access.ExceptionTranslationFilter@733fa95c, org.springframework.security.web.access.intercept.AuthorizationFilter@22429a11]
2024-06-21T01:09:53.661+08:00  INFO 9748 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:09:53.668+08:00  INFO 9748 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.806 seconds (process running for 3.221)
2024-06-21T01:09:53.670+08:00  INFO 9748 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:12:40.993+08:00  INFO 17876 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 17876 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:12:40.995+08:00 DEBUG 17876 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:12:40.995+08:00  INFO 17876 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:12:41.630+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:12:41.631+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:12:41.736+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:12:41.740+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:12:41.741+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:12:41.747+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:12:41.755+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:12:41.756+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:12:41.767+08:00  INFO 17876 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:12:41.767+08:00  INFO 17876 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-06-21T01:12:42.029+08:00 ERROR 17876 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:12:42.153+08:00  INFO 17876 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:12:42.161+08:00  INFO 17876 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:12:42.161+08:00  INFO 17876 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:12:42.199+08:00  INFO 17876 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:12:42.199+08:00  INFO 17876 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1170 ms
2024-06-21T01:12:42.423+08:00 DEBUG 17876 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:12:42.647+08:00  INFO 17876 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:12:43.199+08:00  WARN 17876 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:12:43.211+08:00  INFO 17876 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:12:43.221+08:00  INFO 17876 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:12:43.232+08:00 ERROR 17876 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:16) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on ElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:13:31.956+08:00  INFO 15196 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 15196 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:13:31.957+08:00 DEBUG 15196 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:13:31.958+08:00  INFO 15196 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:13:32.387+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:13:32.388+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:13:32.479+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:13:32.681+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:13:32.681+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:13:32.694+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:13:32.702+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:13:32.703+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:13:32.712+08:00  INFO 15196 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:13:32.713+08:00  INFO 15196 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:13:32.944+08:00 ERROR 15196 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:13:33.092+08:00  INFO 15196 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:13:33.101+08:00  INFO 15196 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:13:33.101+08:00  INFO 15196 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:13:33.155+08:00  INFO 15196 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:13:33.156+08:00  INFO 15196 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1160 ms
2024-06-21T01:13:33.463+08:00 DEBUG 15196 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:13:33.675+08:00  INFO 15196 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:13:34.371+08:00  WARN 15196 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:13:34.383+08:00  INFO 15196 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:13:34.394+08:00  INFO 15196 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:13:34.403+08:00 ERROR 15196 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:18) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:14:57.086+08:00  INFO 45916 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 45916 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:14:57.087+08:00 DEBUG 45916 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:14:57.089+08:00  INFO 45916 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:14:57.562+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:14:57.563+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:14:57.648+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:14:57.847+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:14:57.848+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:14:57.857+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:14:57.869+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:14:57.869+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:14:57.880+08:00  INFO 45916 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:14:57.881+08:00  INFO 45916 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2024-06-21T01:14:58.188+08:00 ERROR 45916 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:14:58.372+08:00  INFO 45916 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:14:58.385+08:00  INFO 45916 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:14:58.386+08:00  INFO 45916 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:14:58.443+08:00  INFO 45916 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:14:58.444+08:00  INFO 45916 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1321 ms
2024-06-21T01:14:58.721+08:00 DEBUG 45916 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:14:58.933+08:00  INFO 45916 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:14:59.542+08:00  WARN 45916 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:14:59.553+08:00  INFO 45916 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:14:59.563+08:00  INFO 45916 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:14:59.573+08:00 ERROR 45916 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:18) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:18:25.522+08:00  INFO 20264 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 20264 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:18:25.524+08:00 DEBUG 20264 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:18:25.525+08:00  INFO 20264 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:18:26.055+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:26.056+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:26.138+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:18:26.366+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:26.368+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:26.377+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:18:26.389+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:26.391+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:18:26.402+08:00  INFO 20264 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:18:26.403+08:00  INFO 20264 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2024-06-21T01:18:26.682+08:00 ERROR 20264 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:18:26.820+08:00  INFO 20264 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:18:26.829+08:00  INFO 20264 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:18:26.829+08:00  INFO 20264 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:18:26.871+08:00  INFO 20264 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:18:26.871+08:00  INFO 20264 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1302 ms
2024-06-21T01:18:27.112+08:00 DEBUG 20264 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:18:27.346+08:00  INFO 20264 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:18:28.697+08:00  WARN 20264 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:18:28.710+08:00  INFO 20264 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:18:28.721+08:00  INFO 20264 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:18:28.733+08:00 ERROR 20264 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:18) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: Timeout connecting to [/192.168.200.129:9200]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doExists(IndicesTemplate.java:177) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.exists(IndicesTemplate.java:169) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:93) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: Timeout connecting to [/192.168.200.129:9200]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:934) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:304) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.exists(ElasticsearchIndicesClient.java:666) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doExists$2(IndicesTemplate.java:177) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted
Caused by: java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:630) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:896) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:198) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:213) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:18:35.122+08:00  INFO 35524 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 35524 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:18:35.125+08:00 DEBUG 35524 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:18:35.125+08:00  INFO 35524 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:18:35.628+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:35.629+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:35.722+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 88 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:18:35.945+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:35.945+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:35.956+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:18:35.966+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:35.967+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:18:35.977+08:00  INFO 35524 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:18:35.977+08:00  INFO 35524 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2024-06-21T01:18:36.247+08:00 ERROR 35524 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:18:36.406+08:00  INFO 35524 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:18:36.416+08:00  INFO 35524 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:18:36.416+08:00  INFO 35524 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:18:36.463+08:00  INFO 35524 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:18:36.463+08:00  INFO 35524 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1297 ms
2024-06-21T01:18:36.713+08:00 DEBUG 35524 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:18:36.944+08:00  INFO 35524 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:18:38.309+08:00  WARN 35524 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:18:38.322+08:00  INFO 35524 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:18:38.331+08:00  INFO 35524 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:18:38.343+08:00 ERROR 35524 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:18) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: Timeout connecting to [/192.168.200.129:9200]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doExists(IndicesTemplate.java:177) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.exists(IndicesTemplate.java:169) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:93) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: Timeout connecting to [/192.168.200.129:9200]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:934) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:304) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.exists(ElasticsearchIndicesClient.java:666) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doExists$2(IndicesTemplate.java:177) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted
Caused by: java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:630) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:896) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:198) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:213) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:18:49.027+08:00  INFO 23988 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 23988 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:18:49.027+08:00 DEBUG 23988 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:18:49.029+08:00  INFO 23988 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:18:49.488+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:49.489+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:49.575+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:18:49.786+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:49.786+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:18:49.795+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:18:49.804+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:18:49.805+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:18:49.816+08:00  INFO 23988 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:18:49.817+08:00  INFO 23988 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2024-06-21T01:18:50.070+08:00 ERROR 23988 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:18:50.216+08:00  INFO 23988 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:18:50.225+08:00  INFO 23988 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:18:50.225+08:00  INFO 23988 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:18:50.264+08:00  INFO 23988 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:18:50.265+08:00  INFO 23988 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1198 ms
2024-06-21T01:18:50.496+08:00 DEBUG 23988 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:18:50.706+08:00  INFO 23988 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:18:51.430+08:00  WARN 23988 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
2024-06-21T01:18:51.442+08:00  INFO 23988 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:18:51.452+08:00  INFO 23988 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:18:51.463+08:00 ERROR 23988 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:18) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:221) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted
Caused by: org.springframework.dao.DataAccessResourceFailureException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:111) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:65) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:73) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.doCreate(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.createWithMapping(IndicesTemplate.java:135) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleElasticsearchRepository.java:94) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.<init>(SimpleElasticsearchRepository.java:87) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:208) ~[spring-beans-6.1.8.jar:6.1.8]
	... 41 common frames omitted
Caused by: java.lang.RuntimeException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:64) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 52 common frames omitted
Caused by: org.elasticsearch.client.ResponseException: method [PUT], host [http://192.168.200.129:9200], URI [/user], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.indices.ElasticsearchIndicesClient.create(ElasticsearchIndicesClient.java:277) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.IndicesTemplate.lambda$doCreate$0(IndicesTemplate.java:145) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ChildTemplate.execute(ChildTemplate.java:71) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	... 51 common frames omitted

2024-06-21T01:30:01.232+08:00  INFO 44784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 44784 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:30:01.233+08:00 DEBUG 44784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:30:01.234+08:00  INFO 44784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:30:01.657+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:30:01.658+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:30:01.758+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 1 Elasticsearch repository interface.
2024-06-21T01:30:01.968+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:30:01.968+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:30:01.974+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:30:01.983+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:30:01.984+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:30:01.994+08:00  INFO 44784 --- [ddd-demo] [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2024-06-21T01:30:01.994+08:00  INFO 44784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T01:30:02.276+08:00 ERROR 44784 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:30:02.449+08:00  INFO 44784 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:30:02.461+08:00  INFO 44784 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:30:02.462+08:00  INFO 44784 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:30:02.519+08:00  INFO 44784 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:30:02.520+08:00  INFO 44784 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1246 ms
2024-06-21T01:30:02.822+08:00 DEBUG 44784 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:30:03.030+08:00  INFO 44784 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:30:03.336+08:00  WARN 44784 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: No suitable constructor found on interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository to match the given arguments: org.springframework.data.elasticsearch.repository.support.MappingElasticsearchEntityInformation, org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate. Make sure you implement a constructor taking these
2024-06-21T01:30:03.347+08:00  INFO 44784 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T01:30:03.356+08:00  INFO 44784 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T01:30:03.366+08:00 ERROR 44784 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: No suitable constructor found on interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository to match the given arguments: org.springframework.data.elasticsearch.repository.support.MappingElasticsearchEntityInformation, org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate. Make sure you implement a constructor taking these
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:19) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'esUserRepository' defined in cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository defined in @EnableElasticsearchRepositories declared on DddDemoApplication: No suitable constructor found on interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository to match the given arguments: org.springframework.data.elasticsearch.repository.support.MappingElasticsearchEntityInformation, org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate. Make sure you implement a constructor taking these
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.8.jar:6.1.8]
	... 17 common frames omitted
Caused by: java.lang.IllegalStateException: No suitable constructor found on interface cn.rzpt.user.infrastructure.elasticsearch.repository.EsUserRepository to match the given arguments: org.springframework.data.elasticsearch.repository.support.MappingElasticsearchEntityInformation, org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate. Make sure you implement a constructor taking these
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$6(RepositoryFactorySupport.java:572) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:572) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactory.getTargetRepository(ElasticsearchRepositoryFactory.java:80) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:286) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:292) ~[spring-data-commons-3.3.0.jar:3.3.0]
	at org.springframework.data.elasticsearch.repository.support.ElasticsearchRepositoryFactoryBean.afterPropertiesSet(ElasticsearchRepositoryFactoryBean.java:69) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784) ~[spring-beans-6.1.8.jar:6.1.8]
	... 28 common frames omitted

2024-06-21T01:32:30.848+08:00  INFO 35316 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 35316 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:32:30.850+08:00 DEBUG 35316 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:32:30.851+08:00  INFO 35316 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:32:31.542+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:32:31.543+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:32:31.558+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:32:31.562+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:32:31.563+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:32:31.569+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:32:31.578+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:32:31.579+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:32:31.588+08:00  INFO 35316 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T01:32:31.911+08:00 ERROR 35316 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:32:32.042+08:00  INFO 35316 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:32:32.051+08:00  INFO 35316 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:32:32.052+08:00  INFO 35316 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:32:32.090+08:00  INFO 35316 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:32:32.091+08:00  INFO 35316 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2024-06-21T01:32:32.308+08:00 DEBUG 35316 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:32:32.513+08:00  INFO 35316 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:32:32.669+08:00  INFO 35316 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2833c093, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7598d675, org.springframework.security.web.context.SecurityContextHolderFilter@647ff23e, org.springframework.security.web.header.HeaderWriterFilter@7c47e077, org.springframework.security.web.authentication.logout.LogoutFilter@507f47f9, cn.rzpt.user.application.filter.TokenFilter@30fbc23, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35a9e665, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57a982f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4946485c, org.springframework.security.web.session.SessionManagementFilter@733fa95c, org.springframework.security.web.access.ExceptionTranslationFilter@5a2035e1, org.springframework.security.web.access.intercept.AuthorizationFilter@2b9ecd05]
2024-06-21T01:32:33.270+08:00  INFO 35316 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:32:33.277+08:00  INFO 35316 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.769 seconds (process running for 3.144)
2024-06-21T01:32:33.279+08:00  INFO 35316 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:34:28.412+08:00  INFO 40784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 40784 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:34:28.414+08:00 DEBUG 40784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:34:28.415+08:00  INFO 40784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:34:29.041+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:34:29.043+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:34:29.057+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:34:29.063+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:34:29.064+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:34:29.069+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:34:29.079+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:34:29.080+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:34:29.094+08:00  INFO 40784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T01:34:29.396+08:00 ERROR 40784 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:34:29.533+08:00  INFO 40784 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:34:29.541+08:00  INFO 40784 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:34:29.541+08:00  INFO 40784 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:34:29.579+08:00  INFO 40784 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:34:29.579+08:00  INFO 40784 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1134 ms
2024-06-21T01:34:29.796+08:00 DEBUG 40784 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:34:30.000+08:00  INFO 40784 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:34:30.420+08:00  INFO 40784 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43de9fc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d3eb1ea, org.springframework.security.web.context.SecurityContextHolderFilter@7474196, org.springframework.security.web.header.HeaderWriterFilter@20b67366, org.springframework.security.web.authentication.logout.LogoutFilter@6f67ece5, cn.rzpt.user.application.filter.TokenFilter@7d88fa9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18209303, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21ce2e4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78508e6b, org.springframework.security.web.session.SessionManagementFilter@147059f8, org.springframework.security.web.access.ExceptionTranslationFilter@6e355249, org.springframework.security.web.access.intercept.AuthorizationFilter@7cd3860]
2024-06-21T01:34:30.777+08:00  INFO 40784 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:34:30.784+08:00  INFO 40784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.689 seconds (process running for 3.056)
2024-06-21T01:34:30.787+08:00  INFO 40784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:34:44.158+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T01:34:44.159+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T01:34:44.161+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-06-21T01:34:44.438+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T01:34:44.692+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@57826439
2024-06-21T01:34:44.693+08:00  INFO 40784 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T01:34:44.700+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T01:34:44.718+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T01:34:44.740+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T01:34:45.140+08:00 ERROR 40784 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis] with root cause

java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:994) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:35:26.372+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T01:35:26.372+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T01:35:26.373+08:00 DEBUG 40784 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T01:35:26.453+08:00 ERROR 40784 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis] with root cause

java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:994) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:36:03.441+08:00  INFO 40784 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T01:36:03.448+08:00  INFO 40784 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T01:36:05.953+08:00  INFO 31936 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 31936 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:36:05.955+08:00 DEBUG 31936 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:36:05.956+08:00  INFO 31936 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:36:06.604+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:06.606+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:36:06.621+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:36:06.625+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:06.626+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:36:06.629+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:36:06.638+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:06.639+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:36:06.647+08:00  INFO 31936 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T01:36:06.991+08:00 ERROR 31936 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:36:07.132+08:00  INFO 31936 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:36:07.140+08:00  INFO 31936 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:36:07.140+08:00  INFO 31936 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:36:07.182+08:00  INFO 31936 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:36:07.182+08:00  INFO 31936 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1197 ms
2024-06-21T01:36:07.451+08:00 DEBUG 31936 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:36:07.681+08:00  INFO 31936 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:36:08.152+08:00  INFO 31936 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@446a692f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@283ecb4b, org.springframework.security.web.context.SecurityContextHolderFilter@1e66bf2d, org.springframework.security.web.header.HeaderWriterFilter@228958a, org.springframework.security.web.authentication.logout.LogoutFilter@7cbfbcd1, cn.rzpt.user.application.filter.TokenFilter@775f15fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@342dc040, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a859c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a30dbc0, org.springframework.security.web.session.SessionManagementFilter@c335b9, org.springframework.security.web.access.ExceptionTranslationFilter@54d2f5d3, org.springframework.security.web.access.intercept.AuthorizationFilter@366b4a7b]
2024-06-21T01:36:08.518+08:00  INFO 31936 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:36:08.525+08:00  INFO 31936 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.928 seconds (process running for 3.412)
2024-06-21T01:36:08.527+08:00  INFO 31936 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:36:11.682+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T01:36:11.683+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T01:36:11.684+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T01:36:21.514+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T01:36:22.259+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@76448281
2024-06-21T01:36:22.265+08:00  INFO 31936 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T01:36:22.301+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T01:36:22.430+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T01:36:22.573+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T01:36:26.123+08:00 ERROR 31936 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis] with root cause

java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:994) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:36:30.851+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T01:36:30.851+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T01:36:30.852+08:00 DEBUG 31936 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T01:36:30.928+08:00 ERROR 31936 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis] with root cause

java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:336) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:339) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:994) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.110.Final.jar:4.1.110.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T01:36:40.968+08:00  INFO 31936 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T01:36:40.974+08:00  INFO 31936 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T01:36:43.031+08:00  INFO 38500 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 38500 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:36:43.033+08:00 DEBUG 38500 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:36:43.034+08:00  INFO 38500 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:36:43.746+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:43.748+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:36:43.762+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:36:43.765+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:43.766+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:36:43.772+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:36:43.780+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:36:43.781+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:36:43.790+08:00  INFO 38500 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T01:36:44.143+08:00 ERROR 38500 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:36:44.289+08:00  INFO 38500 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:36:44.298+08:00  INFO 38500 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:36:44.299+08:00  INFO 38500 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:36:44.340+08:00  INFO 38500 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:36:44.340+08:00  INFO 38500 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1266 ms
2024-06-21T01:36:44.592+08:00 DEBUG 38500 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:36:44.820+08:00  INFO 38500 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:36:45.270+08:00  INFO 38500 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b76251c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20c283b4, org.springframework.security.web.context.SecurityContextHolderFilter@87fc0fc, org.springframework.security.web.header.HeaderWriterFilter@5d00b469, org.springframework.security.web.authentication.logout.LogoutFilter@7ebaf0d, cn.rzpt.user.application.filter.TokenFilter@2ae3235e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c335b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26feccf7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@366b4a7b, org.springframework.security.web.session.SessionManagementFilter@1bde9a22, org.springframework.security.web.access.ExceptionTranslationFilter@155c7eae, org.springframework.security.web.access.intercept.AuthorizationFilter@3ddac0b6]
2024-06-21T01:36:45.634+08:00  INFO 38500 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:36:45.642+08:00  INFO 38500 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.055 seconds (process running for 3.562)
2024-06-21T01:36:45.645+08:00  INFO 38500 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:36:53.582+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T01:36:53.582+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T01:36:53.583+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T01:36:56.125+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T01:36:56.345+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31ab4820
2024-06-21T01:36:56.347+08:00  INFO 38500 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T01:36:56.352+08:00 DEBUG 38500 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T01:36:56.370+08:00 DEBUG 38500 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T01:36:56.392+08:00 DEBUG 38500 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T01:36:56.806+08:00 DEBUG 38500 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 01:36:56","data":{"username":"MyNameWax","password":"123456","lastLoginTime":"2024-06-21 01:36:55"}}
2024-06-21T01:37:21.504+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/login/list
2024-06-21T01:37:21.506+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-4] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/login/list.
2024-06-21T01:37:38.281+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/login/list
2024-06-21T01:37:38.283+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-5] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/login/list.
2024-06-21T01:44:09.106+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/login/list
2024-06-21T01:44:09.109+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-7] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/login/list.
2024-06-21T01:46:06.875+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-10] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/login/list
2024-06-21T01:46:06.876+08:00  WARN 38500 --- [ddd-demo] [http-nio-9999-exec-10] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/login/list.
2024-06-21T01:46:09.692+08:00  INFO 38500 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T01:46:09.698+08:00  INFO 38500 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T01:46:14.206+08:00  INFO 39268 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 39268 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T01:46:14.207+08:00 DEBUG 39268 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T01:46:14.208+08:00  INFO 39268 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T01:46:14.862+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:46:14.863+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:46:14.878+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T01:46:14.883+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:46:14.884+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T01:46:14.889+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T01:46:14.898+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T01:46:14.899+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T01:46:14.907+08:00  INFO 39268 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2024-06-21T01:46:15.248+08:00 ERROR 39268 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T01:46:15.386+08:00  INFO 39268 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T01:46:15.395+08:00  INFO 39268 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T01:46:15.396+08:00  INFO 39268 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T01:46:15.438+08:00  INFO 39268 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T01:46:15.439+08:00  INFO 39268 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1199 ms
2024-06-21T01:46:15.699+08:00 DEBUG 39268 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T01:46:15.929+08:00  INFO 39268 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T01:46:16.405+08:00  INFO 39268 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70819ba8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@446a692f, org.springframework.security.web.context.SecurityContextHolderFilter@3c68e82, org.springframework.security.web.header.HeaderWriterFilter@c29b0dc, org.springframework.security.web.authentication.logout.LogoutFilter@4d2bc56a, cn.rzpt.user.application.filter.TokenFilter@376b5cb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7112fa5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@253b1cbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@283ecb4b, org.springframework.security.web.session.SessionManagementFilter@671f545b, org.springframework.security.web.access.ExceptionTranslationFilter@7b8fcdf2, org.springframework.security.web.access.intercept.AuthorizationFilter@20c283b4]
2024-06-21T01:46:16.765+08:00  INFO 39268 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T01:46:16.771+08:00  INFO 39268 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.929 seconds (process running for 3.445)
2024-06-21T01:46:16.774+08:00  INFO 39268 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T01:46:23.428+08:00  INFO 39268 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T01:46:23.428+08:00  INFO 39268 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T01:46:23.429+08:00  INFO 39268 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T01:46:23.817+08:00  WARN 39268 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /api/user/login/list
2024-06-21T01:46:23.822+08:00  WARN 39268 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.PageNotFound             : No endpoint GET /api/user/login/list.
2024-06-21T02:04:54.158+08:00  INFO 31812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 31812 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:04:54.159+08:00 DEBUG 31812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:04:54.160+08:00  INFO 31812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:04:55.047+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:04:55.049+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:04:55.076+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:04:55.082+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:04:55.083+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:04:55.088+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:04:55.098+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:04:55.099+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:04:55.123+08:00  INFO 31812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2024-06-21T02:04:55.514+08:00 ERROR 31812 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:04:55.684+08:00  INFO 31812 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:04:55.698+08:00  INFO 31812 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:04:55.699+08:00  INFO 31812 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:04:55.759+08:00  INFO 31812 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:04:55.759+08:00  INFO 31812 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1564 ms
2024-06-21T02:04:56.023+08:00 DEBUG 31812 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:04:56.255+08:00  INFO 31812 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:04:56.275+08:00  WARN 31812 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'esUserRepository': Unsatisfied dependency expressed through field 'client': No qualifying bean of type 'org.elasticsearch.client.RestHighLevelClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-06-21T02:04:56.288+08:00  INFO 31812 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T02:04:56.296+08:00  INFO 31812 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T02:04:56.310+08:00 ERROR 31812 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field client in cn.easyes.starter.register.MapperFactoryBean required a bean of type 'org.elasticsearch.client.RestHighLevelClient' that could not be found.


Action:

Consider defining a bean of type 'org.elasticsearch.client.RestHighLevelClient' in your configuration.

2024-06-21T02:07:26.003+08:00  INFO 29356 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 29356 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:07:26.004+08:00 DEBUG 29356 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:07:26.005+08:00  INFO 29356 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:07:26.685+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:07:26.687+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:07:26.702+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:07:26.707+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:07:26.708+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:07:26.713+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:07:26.723+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:07:26.724+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:07:26.733+08:00  INFO 29356 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:07:27.040+08:00 ERROR 29356 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:07:27.179+08:00  INFO 29356 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:07:27.187+08:00  INFO 29356 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:07:27.187+08:00  INFO 29356 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:07:27.228+08:00  INFO 29356 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:07:27.229+08:00  INFO 29356 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1191 ms
2024-06-21T02:07:27.452+08:00 DEBUG 29356 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:07:27.675+08:00  INFO 29356 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:07:28.215+08:00  INFO 29356 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78508e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bde9a22, org.springframework.security.web.context.SecurityContextHolderFilter@18209303, org.springframework.security.web.header.HeaderWriterFilter@5c0ece6d, org.springframework.security.web.authentication.logout.LogoutFilter@5c9e6d95, cn.rzpt.user.application.filter.TokenFilter@352f6727, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6aa9a93b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a239dac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cc97e47, org.springframework.security.web.session.SessionManagementFilter@838e109, org.springframework.security.web.access.ExceptionTranslationFilter@20b67366, org.springframework.security.web.access.intercept.AuthorizationFilter@59cde35]
2024-06-21T02:07:28.625+08:00  INFO 29356 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:07:28.633+08:00  INFO 29356 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.969 seconds (process running for 3.404)
2024-06-21T02:07:28.637+08:00  INFO 29356 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:07:35.412+08:00  INFO 29356 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:07:35.413+08:00  INFO 29356 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:07:35.414+08:00  INFO 29356 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:10:01.745+08:00  INFO 15084 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 15084 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:10:01.747+08:00 DEBUG 15084 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:10:01.748+08:00  INFO 15084 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:10:02.348+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:10:02.350+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:10:02.363+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:10:02.367+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:10:02.368+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:10:02.372+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:10:02.380+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:10:02.380+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:10:02.389+08:00  INFO 15084 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T02:10:02.703+08:00 ERROR 15084 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:10:02.829+08:00  INFO 15084 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:10:02.837+08:00  INFO 15084 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:10:02.838+08:00  INFO 15084 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:10:02.877+08:00  INFO 15084 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:10:02.879+08:00  INFO 15084 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1103 ms
2024-06-21T02:10:03.095+08:00 DEBUG 15084 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:10:03.294+08:00  INFO 15084 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:10:03.730+08:00  INFO 15084 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33765d22, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f67ece5, org.springframework.security.web.context.SecurityContextHolderFilter@5c0ece6d, org.springframework.security.web.header.HeaderWriterFilter@33e8694b, org.springframework.security.web.authentication.logout.LogoutFilter@5f4df55e, cn.rzpt.user.application.filter.TokenFilter@2d74cbbd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7affee54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@147059f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@155c7eae, org.springframework.security.web.session.SessionManagementFilter@652a1a17, org.springframework.security.web.access.ExceptionTranslationFilter@6c8ad6d7, org.springframework.security.web.access.intercept.AuthorizationFilter@23dff243]
2024-06-21T02:10:04.095+08:00  INFO 15084 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:10:04.102+08:00  INFO 15084 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.695 seconds (process running for 3.051)
2024-06-21T02:10:04.104+08:00  INFO 15084 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:10:06.641+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:10:06.641+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:10:06.641+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-06-21T02:10:08.083+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: Timeout connecting to [/192.168.200.129:9200]] with root cause

java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:630) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:896) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:198) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:213) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:10:15.562+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: Timeout connecting to [/192.168.200.129:9200]] with root cause

java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:630) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:896) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:198) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:213) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:10:25.151+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T02:10:25.395+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3cba58f1
2024-06-21T02:10:25.396+08:00  INFO 15084 --- [ddd-demo] [http-nio-9999-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T02:10:25.405+08:00 DEBUG 15084 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T02:10:25.429+08:00 DEBUG 15084 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T02:10:25.452+08:00 DEBUG 15084 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T02:10:25.561+08:00 DEBUG 15084 --- [ddd-demo] [http-nio-9999-exec-4] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 02:10:25","data":{"username":"MyNameWax","password":"123456","lastLoginTime":"2024-06-21 02:10:24"}}
2024-06-21T02:10:31.996+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: Timeout connecting to [/192.168.200.129:9200]] with root cause

java.net.ConnectException: Timeout connecting to [/192.168.200.129:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:630) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:896) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:198) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:213) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351) ~[httpcore-nio-4.4.16.jar:4.4.16]
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) ~[httpasyncclient-4.1.5.jar:4.1.5]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:11:39.929+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}] with root cause

org.elasticsearch.client.ResponseException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1923) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doSearch$15(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doSearch(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.search(ElasticsearchTemplate.java:356) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.search(AbstractElasticsearchTemplate.java:453) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:25) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:11:40.644+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}] with root cause

org.elasticsearch.client.ResponseException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1923) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doSearch$15(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doSearch(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.search(ElasticsearchTemplate.java:356) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.search(AbstractElasticsearchTemplate.java:453) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:25) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:11:41.149+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}] with root cause

org.elasticsearch.client.ResponseException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1923) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doSearch$15(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doSearch(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.search(ElasticsearchTemplate.java:356) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.search(AbstractElasticsearchTemplate.java:453) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:25) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:11:47.189+08:00 ERROR 15084 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}] with root cause

org.elasticsearch.client.ResponseException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1923) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doSearch$15(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doSearch(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.search(ElasticsearchTemplate.java:356) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.search(AbstractElasticsearchTemplate.java:453) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:25) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:12:13.662+08:00  INFO 15084 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T02:12:13.669+08:00  INFO 15084 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T02:12:15.697+08:00  INFO 9416 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 9416 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:12:15.699+08:00 DEBUG 9416 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:12:15.700+08:00  INFO 9416 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:12:16.363+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:12:16.364+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:12:16.380+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:12:16.384+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:12:16.384+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:12:16.389+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:12:16.398+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:12:16.399+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:12:16.407+08:00  INFO 9416 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:12:16.776+08:00 ERROR 9416 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:12:16.936+08:00  INFO 9416 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:12:16.947+08:00  INFO 9416 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:12:16.947+08:00  INFO 9416 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:12:16.999+08:00  INFO 9416 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:12:17.000+08:00  INFO 9416 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1264 ms
2024-06-21T02:12:17.294+08:00 DEBUG 9416 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:12:17.556+08:00  INFO 9416 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:12:18.038+08:00  INFO 9416 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@446a692f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@283ecb4b, org.springframework.security.web.context.SecurityContextHolderFilter@1e66bf2d, org.springframework.security.web.header.HeaderWriterFilter@228958a, org.springframework.security.web.authentication.logout.LogoutFilter@7cbfbcd1, cn.rzpt.user.application.filter.TokenFilter@775f15fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@342dc040, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a859c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a30dbc0, org.springframework.security.web.session.SessionManagementFilter@c335b9, org.springframework.security.web.access.ExceptionTranslationFilter@54d2f5d3, org.springframework.security.web.access.intercept.AuthorizationFilter@366b4a7b]
2024-06-21T02:12:18.433+08:00  INFO 9416 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:12:18.440+08:00  INFO 9416 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.15 seconds (process running for 3.63)
2024-06-21T02:12:18.442+08:00  INFO 9416 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:12:20.994+08:00  INFO 9416 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:12:20.995+08:00  INFO 9416 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:12:20.996+08:00  INFO 9416 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:12:34.056+08:00 ERROR 9416 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataAccessResourceFailureException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}] with root cause

org.elasticsearch.client.ResponseException: method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
	at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:351) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:317) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at org.elasticsearch.client.RestClient.performRequest(RestClient.java:292) ~[elasticsearch-rest-client-8.13.4.jar:8.13.4]
	at co.elastic.clients.transport.rest_client.RestClientHttpClient.performRequest(RestClientHttpClient.java:91) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:144) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1923) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doSearch$15(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doSearch(ElasticsearchTemplate.java:363) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.search(ElasticsearchTemplate.java:356) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.search(AbstractElasticsearchTemplate.java:453) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:25) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:13:16.341+08:00  INFO 22168 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 22168 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:13:16.344+08:00 DEBUG 22168 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:13:16.344+08:00  INFO 22168 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:13:17.057+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:13:17.059+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:13:17.075+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:13:17.080+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:13:17.080+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:13:17.085+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:13:17.096+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:13:17.097+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:13:17.108+08:00  INFO 22168 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T02:13:17.458+08:00 ERROR 22168 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:13:17.604+08:00  INFO 22168 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:13:17.612+08:00  INFO 22168 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:13:17.614+08:00  INFO 22168 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:13:17.655+08:00  INFO 22168 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:13:17.656+08:00  INFO 22168 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1278 ms
2024-06-21T02:13:17.917+08:00 DEBUG 22168 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:13:18.148+08:00  INFO 22168 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:13:18.622+08:00  INFO 22168 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@337cb81d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47772462, org.springframework.security.web.context.SecurityContextHolderFilter@7c8b37a8, org.springframework.security.web.header.HeaderWriterFilter@78508e6b, org.springframework.security.web.authentication.logout.LogoutFilter@628bcf2c, cn.rzpt.user.application.filter.TokenFilter@11abd6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75f2ff80, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f36267d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59929ac, org.springframework.security.web.session.SessionManagementFilter@3a8ead9, org.springframework.security.web.access.ExceptionTranslationFilter@43de9fc9, org.springframework.security.web.access.intercept.AuthorizationFilter@76104df5]
2024-06-21T02:13:19.006+08:00  INFO 22168 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:13:19.014+08:00  INFO 22168 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.037 seconds (process running for 3.543)
2024-06-21T02:13:19.016+08:00  INFO 22168 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:13:21.336+08:00  INFO 22168 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:13:21.336+08:00  INFO 22168 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:13:21.337+08:00  INFO 22168 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-06-21T02:13:21.855+08:00 ERROR 22168 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: [es/delete] failed: [security_exception] failed to authenticate user [elastic]] with root cause

co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/delete] failed: [security_exception] failed to authenticate user [elastic]
	at co.elastic.clients.transport.ElasticsearchTransportBase.getApiResponse(ElasticsearchTransportBase.java:345) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:147) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.delete(ElasticsearchClient.java:580) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doDelete$9(ElasticsearchTemplate.java:273) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doDelete(ElasticsearchTemplate.java:273) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.delete(AbstractElasticsearchTemplate.java:321) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.delete(AbstractElasticsearchTemplate.java:298) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:24) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:13:44.394+08:00 ERROR 22168 --- [ddd-demo] [http-nio-9999-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.elasticsearch.UncategorizedElasticsearchException: [es/delete] failed: [security_exception] failed to authenticate user [elastic]] with root cause

co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/delete] failed: [security_exception] failed to authenticate user [elastic]
	at co.elastic.clients.transport.ElasticsearchTransportBase.getApiResponse(ElasticsearchTransportBase.java:345) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.transport.ElasticsearchTransportBase.performRequest(ElasticsearchTransportBase.java:147) ~[elasticsearch-java-8.13.4.jar:na]
	at co.elastic.clients.elasticsearch.ElasticsearchClient.delete(ElasticsearchClient.java:580) ~[elasticsearch-java-8.13.4.jar:na]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.lambda$doDelete$9(ElasticsearchTemplate.java:273) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.execute(ElasticsearchTemplate.java:683) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.client.elc.ElasticsearchTemplate.doDelete(ElasticsearchTemplate.java:273) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.delete(AbstractElasticsearchTemplate.java:321) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.delete(AbstractElasticsearchTemplate.java:298) ~[spring-data-elasticsearch-5.3.0.jar:5.3.0]
	at cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl.list(UserQueryApplicationServiceImpl.java:24) ~[classes/:na]
	at cn.rzpt.user.interaction.controller.UserController.list(UserController.java:56) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.24.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:49) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T02:14:38.513+08:00  INFO 19864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 19864 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:14:38.515+08:00 DEBUG 19864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:14:38.515+08:00  INFO 19864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:14:39.168+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:14:39.170+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:14:39.184+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:14:39.188+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:14:39.189+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:14:39.197+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:14:39.206+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:14:39.208+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:14:39.217+08:00  INFO 19864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:14:39.549+08:00 ERROR 19864 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:14:39.686+08:00  INFO 19864 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:14:39.695+08:00  INFO 19864 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:14:39.696+08:00  INFO 19864 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:14:39.743+08:00  INFO 19864 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:14:39.744+08:00  INFO 19864 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1199 ms
2024-06-21T02:14:39.987+08:00 DEBUG 19864 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:14:40.225+08:00  INFO 19864 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:14:40.728+08:00  INFO 19864 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5edd9b4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5db90818, org.springframework.security.web.context.SecurityContextHolderFilter@320fc4b0, org.springframework.security.web.header.HeaderWriterFilter@7c8b37a8, org.springframework.security.web.authentication.logout.LogoutFilter@4e9bd2c8, cn.rzpt.user.application.filter.TokenFilter@46ab4efc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25435731, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8ecc457, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c17794e, org.springframework.security.web.session.SessionManagementFilter@d65e744, org.springframework.security.web.access.ExceptionTranslationFilter@281ca256, org.springframework.security.web.access.intercept.AuthorizationFilter@64dcf763]
2024-06-21T02:14:41.103+08:00  INFO 19864 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:14:41.112+08:00  INFO 19864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.975 seconds (process running for 3.452)
2024-06-21T02:14:41.115+08:00  INFO 19864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:14:42.275+08:00  INFO 19864 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:14:42.275+08:00  INFO 19864 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:14:42.276+08:00  INFO 19864 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:14:45.107+08:00 ERROR 19864 --- [ddd-demo] [http-nio-9999-exec-1] cn.rzpt.base.exception.GlobalException   : [GET] http://localhost:9999/api/user/list [es/delete] failed: [security_exception] failed to authenticate user [elastic]
2024-06-21T02:15:07.779+08:00  INFO 42532 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 42532 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:15:07.781+08:00 DEBUG 42532 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:15:07.782+08:00  INFO 42532 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:15:08.463+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:15:08.465+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:15:08.477+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:15:08.482+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:15:08.482+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:15:08.486+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:15:08.502+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:15:08.502+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:15:08.512+08:00  INFO 42532 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:15:08.850+08:00 ERROR 42532 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:15:08.984+08:00  INFO 42532 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:15:08.994+08:00  INFO 42532 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:15:08.995+08:00  INFO 42532 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:15:09.039+08:00  INFO 42532 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:15:09.039+08:00  INFO 42532 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1222 ms
2024-06-21T02:15:09.287+08:00 DEBUG 42532 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:15:09.519+08:00  INFO 42532 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:15:09.981+08:00  INFO 42532 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c17794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@414d2821, org.springframework.security.web.context.SecurityContextHolderFilter@25435731, org.springframework.security.web.header.HeaderWriterFilter@75f2ff80, org.springframework.security.web.authentication.logout.LogoutFilter@665b441e, cn.rzpt.user.application.filter.TokenFilter@2ff498b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cd6719d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49f1184e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7378c4a4, org.springframework.security.web.session.SessionManagementFilter@1a85e86e, org.springframework.security.web.access.ExceptionTranslationFilter@7c8b37a8, org.springframework.security.web.access.intercept.AuthorizationFilter@21ab919c]
2024-06-21T02:15:10.357+08:00  INFO 42532 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:15:10.364+08:00  INFO 42532 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.978 seconds (process running for 3.43)
2024-06-21T02:15:10.367+08:00  INFO 42532 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:15:17.878+08:00  INFO 42532 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:15:17.878+08:00  INFO 42532 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:15:17.880+08:00  INFO 42532 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-06-21T02:15:20.888+08:00 ERROR 42532 --- [ddd-demo] [http-nio-9999-exec-2] cn.rzpt.base.exception.GlobalException   : [GET] http://localhost:9999/api/user/list [es/delete] failed: [security_exception] failed to authenticate user [elastic]
2024-06-21T02:16:13.585+08:00  INFO 42760 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 42760 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:16:13.587+08:00 DEBUG 42760 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:16:13.588+08:00  INFO 42760 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:16:14.243+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:16:14.246+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:16:14.264+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:16:14.269+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:16:14.269+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:16:14.273+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:16:14.281+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:16:14.282+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:16:14.290+08:00  INFO 42760 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:16:14.620+08:00 ERROR 42760 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:16:14.757+08:00  INFO 42760 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:16:14.766+08:00  INFO 42760 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:16:14.766+08:00  INFO 42760 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:16:14.806+08:00  INFO 42760 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:16:14.806+08:00  INFO 42760 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1174 ms
2024-06-21T02:16:15.050+08:00 DEBUG 42760 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:16:15.276+08:00  INFO 42760 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:16:15.735+08:00  INFO 42760 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bf28f61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64dcf763, org.springframework.security.web.context.SecurityContextHolderFilter@788a0513, org.springframework.security.web.header.HeaderWriterFilter@342dc040, org.springframework.security.web.authentication.logout.LogoutFilter@3f9e8af5, cn.rzpt.user.application.filter.TokenFilter@7534785a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44de3b46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61b0af9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@696105c4, org.springframework.security.web.session.SessionManagementFilter@6a63ff31, org.springframework.security.web.access.ExceptionTranslationFilter@1e66bf2d, org.springframework.security.web.access.intercept.AuthorizationFilter@2b0494a8]
2024-06-21T02:16:16.103+08:00  INFO 42760 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:16:16.109+08:00  INFO 42760 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.888 seconds (process running for 3.511)
2024-06-21T02:16:16.113+08:00  INFO 42760 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:16:43.850+08:00  INFO 42760 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:16:43.851+08:00  INFO 42760 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:16:43.853+08:00  INFO 42760 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-06-21T02:16:48.510+08:00  INFO 42760 --- [ddd-demo] [http-nio-9999-exec-2] .u.a.s.i.UserQueryApplicationServiceImpl : 1
2024-06-21T02:17:09.829+08:00  INFO 42812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 42812 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:17:09.831+08:00 DEBUG 42812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:17:09.831+08:00  INFO 42812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:17:10.611+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:17:10.613+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:17:10.627+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:17:10.631+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:17:10.631+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:17:10.637+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:17:10.646+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:17:10.647+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:17:10.658+08:00  INFO 42812 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:17:11.016+08:00 ERROR 42812 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:17:11.174+08:00  INFO 42812 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:17:11.183+08:00  INFO 42812 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:17:11.184+08:00  INFO 42812 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:17:11.236+08:00  INFO 42812 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:17:11.236+08:00  INFO 42812 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1365 ms
2024-06-21T02:17:11.509+08:00 DEBUG 42812 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:17:11.783+08:00  INFO 42812 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:17:12.290+08:00  INFO 42812 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5edd9b4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5db90818, org.springframework.security.web.context.SecurityContextHolderFilter@320fc4b0, org.springframework.security.web.header.HeaderWriterFilter@7c8b37a8, org.springframework.security.web.authentication.logout.LogoutFilter@4e9bd2c8, cn.rzpt.user.application.filter.TokenFilter@108b121f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25435731, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8ecc457, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c17794e, org.springframework.security.web.session.SessionManagementFilter@d65e744, org.springframework.security.web.access.ExceptionTranslationFilter@281ca256, org.springframework.security.web.access.intercept.AuthorizationFilter@64dcf763]
2024-06-21T02:17:12.680+08:00  INFO 42812 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:17:12.689+08:00  INFO 42812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.308 seconds (process running for 3.921)
2024-06-21T02:17:12.692+08:00  INFO 42812 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:17:14.436+08:00  INFO 42812 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:17:14.436+08:00  INFO 42812 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:17:14.437+08:00  INFO 42812 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:17:19.903+08:00 ERROR 42812 --- [ddd-demo] [http-nio-9999-exec-1] cn.rzpt.base.exception.GlobalException   : [GET] http://localhost:9999/api/user/list method [POST], host [http://192.168.200.129:9200], URI [/user/_search?typed_keys=true&search_type=query_then_fetch], status line [HTTP/1.1 406 Not Acceptable]
{"error":"Content-Type header [application/vnd.elasticsearch+json; compatible-with=8] is not supported","status":406}
2024-06-21T02:20:09.272+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 19640 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:20:09.275+08:00 DEBUG 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:20:09.276+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:20:10.148+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:20:10.149+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:20:10.164+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:20:10.170+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:20:10.170+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:20:10.176+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:20:10.186+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:20:10.187+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:20:10.197+08:00  INFO 19640 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:20:10.540+08:00 ERROR 19640 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:20:10.684+08:00  INFO 19640 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:20:10.693+08:00  INFO 19640 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:20:10.694+08:00  INFO 19640 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:20:10.740+08:00  INFO 19640 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:20:10.740+08:00  INFO 19640 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1430 ms
2024-06-21T02:20:10.991+08:00 DEBUG 19640 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:20:11.234+08:00  INFO 19640 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:20:11.708+08:00  INFO 19640 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13c81bc5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5617168c, org.springframework.security.web.context.SecurityContextHolderFilter@41581c3f, org.springframework.security.web.header.HeaderWriterFilter@2cd52eda, org.springframework.security.web.authentication.logout.LogoutFilter@4713b631, cn.rzpt.user.application.filter.TokenFilter@30517a57, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63636de0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@116915f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8167f57, org.springframework.security.web.session.SessionManagementFilter@65b680b4, org.springframework.security.web.access.ExceptionTranslationFilter@2f4545c6, org.springframework.security.web.access.intercept.AuthorizationFilter@5cf33d25]
2024-06-21T02:20:12.076+08:00  INFO 19640 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:20:12.084+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.218 seconds (process running for 3.721)
2024-06-21T02:20:12.088+08:00  INFO 19640 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:21:42.638+08:00  INFO 34680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 34680 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:21:42.640+08:00 DEBUG 34680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:21:42.641+08:00  INFO 34680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:21:43.289+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:21:43.291+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:21:43.304+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:21:43.308+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:21:43.309+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:21:43.316+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:21:43.324+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:21:43.325+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:21:43.334+08:00  INFO 34680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:21:43.672+08:00 ERROR 34680 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:21:43.808+08:00  INFO 34680 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:21:43.817+08:00  INFO 34680 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:21:43.817+08:00  INFO 34680 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:21:43.865+08:00  INFO 34680 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:21:43.865+08:00  INFO 34680 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1193 ms
2024-06-21T02:21:44.114+08:00 DEBUG 34680 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:21:44.342+08:00  INFO 34680 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:21:44.362+08:00  WARN 34680 --- [ddd-demo] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userQueryApplicationServiceImpl' defined in file [C:\Users\waxja\Desktop\DDD-Demo\target\classes\cn\rzpt\user\application\service\impl\UserQueryApplicationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.elasticsearch.client.RestHighLevelClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2024-06-21T02:21:44.383+08:00  INFO 34680 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-06-21T02:21:44.393+08:00  INFO 34680 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T02:21:44.407+08:00 ERROR 34680 --- [ddd-demo] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in cn.rzpt.user.application.service.impl.UserQueryApplicationServiceImpl required a bean of type 'org.elasticsearch.client.RestHighLevelClient' that could not be found.


Action:

Consider defining a bean of type 'org.elasticsearch.client.RestHighLevelClient' in your configuration.

2024-06-21T02:25:01.221+08:00  INFO 32348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 32348 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:25:01.223+08:00 DEBUG 32348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:25:01.223+08:00  INFO 32348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:25:01.841+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:25:01.842+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:25:01.854+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:25:01.858+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:25:01.859+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:25:01.863+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:25:01.871+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:25:01.872+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:25:01.881+08:00  INFO 32348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:25:02.189+08:00 ERROR 32348 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:25:02.330+08:00  INFO 32348 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:25:02.339+08:00  INFO 32348 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:25:02.340+08:00  INFO 32348 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:25:02.379+08:00  INFO 32348 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:25:02.379+08:00  INFO 32348 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1127 ms
2024-06-21T02:25:02.593+08:00 DEBUG 32348 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:25:02.783+08:00  INFO 32348 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:25:03.166+08:00  INFO 32348 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bdb6ea8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e55eeb9, org.springframework.security.web.context.SecurityContextHolderFilter@3855b27e, org.springframework.security.web.header.HeaderWriterFilter@37dec463, org.springframework.security.web.authentication.logout.LogoutFilter@813ab53, cn.rzpt.user.application.filter.TokenFilter@3be80ece, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b1a1a37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ed52f44, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44a13699, org.springframework.security.web.session.SessionManagementFilter@79424f25, org.springframework.security.web.access.ExceptionTranslationFilter@5454be, org.springframework.security.web.access.intercept.AuthorizationFilter@3c6b300a]
2024-06-21T02:25:03.629+08:00  INFO 32348 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:25:03.636+08:00  INFO 32348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.747 seconds (process running for 3.178)
2024-06-21T02:25:03.639+08:00  INFO 32348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:25:09.117+08:00  INFO 32348 --- [ddd-demo] [http-nio-9999-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:25:09.117+08:00  INFO 32348 --- [ddd-demo] [http-nio-9999-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:25:09.118+08:00  INFO 32348 --- [ddd-demo] [http-nio-9999-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:29:50.154+08:00  INFO 41896 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 41896 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:29:50.156+08:00 DEBUG 41896 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:29:50.157+08:00  INFO 41896 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:29:50.815+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:29:50.816+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:29:50.830+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:29:50.835+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:29:50.835+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:29:50.841+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:29:50.849+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:29:50.850+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:29:50.866+08:00  INFO 41896 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T02:29:51.192+08:00 ERROR 41896 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:29:51.328+08:00  INFO 41896 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:29:51.337+08:00  INFO 41896 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:29:51.338+08:00  INFO 41896 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:29:51.384+08:00  INFO 41896 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:29:51.384+08:00  INFO 41896 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1188 ms
2024-06-21T02:29:51.608+08:00 DEBUG 41896 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:29:51.835+08:00  INFO 41896 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:29:52.196+08:00  INFO 41896 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7de2bdc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@683ed81b, org.springframework.security.web.context.SecurityContextHolderFilter@49639118, org.springframework.security.web.header.HeaderWriterFilter@123c48d0, org.springframework.security.web.authentication.logout.LogoutFilter@11b14ae3, cn.rzpt.user.application.filter.TokenFilter@211a9647, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6942ee48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5305f936, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c116f26, org.springframework.security.web.session.SessionManagementFilter@30a791a6, org.springframework.security.web.access.ExceptionTranslationFilter@796fe2b5, org.springframework.security.web.access.intercept.AuthorizationFilter@813ab53]
2024-06-21T02:29:52.711+08:00  INFO 41896 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:29:52.717+08:00  INFO 41896 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.9 seconds (process running for 3.327)
2024-06-21T02:29:52.720+08:00  INFO 41896 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:30:00.643+08:00  INFO 17344 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 17344 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:30:00.644+08:00 DEBUG 17344 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:30:00.645+08:00  INFO 17344 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:30:01.314+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:01.316+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:30:01.330+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:30:01.334+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:01.334+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:30:01.339+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:30:01.345+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:01.346+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:30:01.355+08:00  INFO 17344 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:30:01.690+08:00 ERROR 17344 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:30:01.826+08:00  INFO 17344 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:30:01.836+08:00  INFO 17344 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:30:01.837+08:00  INFO 17344 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:30:01.882+08:00  INFO 17344 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:30:01.883+08:00  INFO 17344 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2024-06-21T02:30:02.131+08:00 DEBUG 17344 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:30:02.350+08:00  INFO 17344 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:30:02.734+08:00  INFO 17344 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a917017, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ed12d10, org.springframework.security.web.context.SecurityContextHolderFilter@2d3bb944, org.springframework.security.web.header.HeaderWriterFilter@12d35bc9, org.springframework.security.web.authentication.logout.LogoutFilter@22f046b, cn.rzpt.user.application.filter.TokenFilter@48cf8414, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dbeaef8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ba87c11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4153a832, org.springframework.security.web.session.SessionManagementFilter@3700994c, org.springframework.security.web.access.ExceptionTranslationFilter@3b77940f, org.springframework.security.web.access.intercept.AuthorizationFilter@1f57666b]
2024-06-21T02:30:03.268+08:00  INFO 17344 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:30:03.277+08:00  INFO 17344 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.011 seconds (process running for 3.499)
2024-06-21T02:30:03.280+08:00  INFO 17344 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:30:03.527+08:00  INFO 17344 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:30:03.527+08:00  INFO 17344 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:30:03.528+08:00  INFO 17344 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:30:59.158+08:00  INFO 43544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 43544 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:30:59.159+08:00 DEBUG 43544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:30:59.161+08:00  INFO 43544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:30:59.805+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:59.807+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:30:59.828+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:30:59.833+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:59.833+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:30:59.837+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:30:59.845+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:30:59.846+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:30:59.854+08:00  INFO 43544 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:31:00.191+08:00 ERROR 43544 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:31:00.327+08:00  INFO 43544 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:31:00.335+08:00  INFO 43544 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:31:00.336+08:00  INFO 43544 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:31:00.380+08:00  INFO 43544 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:31:00.381+08:00  INFO 43544 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1186 ms
2024-06-21T02:31:00.631+08:00 DEBUG 43544 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:31:00.849+08:00  INFO 43544 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:31:01.271+08:00  INFO 43544 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@547052, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ca3eba2, org.springframework.security.web.context.SecurityContextHolderFilter@12d35bc9, org.springframework.security.web.header.HeaderWriterFilter@305289b3, org.springframework.security.web.authentication.logout.LogoutFilter@113c4ad6, cn.rzpt.user.application.filter.TokenFilter@63187d63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1aa31454, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bfbab1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23c00420, org.springframework.security.web.session.SessionManagementFilter@45f95ac0, org.springframework.security.web.access.ExceptionTranslationFilter@3a589eed, org.springframework.security.web.access.intercept.AuthorizationFilter@684a802a]
2024-06-21T02:31:01.935+08:00  INFO 43544 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:31:01.941+08:00  INFO 43544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.149 seconds (process running for 3.635)
2024-06-21T02:31:01.944+08:00  INFO 43544 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:31:03.686+08:00  INFO 43544 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:31:03.686+08:00  INFO 43544 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:31:03.687+08:00  INFO 43544 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T02:35:10.611+08:00  INFO 34308 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 34308 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T02:35:10.613+08:00 DEBUG 34308 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T02:35:10.614+08:00  INFO 34308 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T02:35:11.290+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:35:11.292+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:35:11.313+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T02:35:11.317+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:35:11.318+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T02:35:11.324+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T02:35:11.333+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T02:35:11.334+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T02:35:11.343+08:00  INFO 34308 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T02:35:11.702+08:00 ERROR 34308 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T02:35:11.854+08:00  INFO 34308 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T02:35:11.864+08:00  INFO 34308 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T02:35:11.864+08:00  INFO 34308 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T02:35:11.915+08:00  INFO 34308 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T02:35:11.916+08:00  INFO 34308 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1267 ms
2024-06-21T02:35:12.185+08:00 DEBUG 34308 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T02:35:12.424+08:00  INFO 34308 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T02:35:12.800+08:00  INFO 34308 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@215a329c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20723ee, org.springframework.security.web.context.SecurityContextHolderFilter@52035328, org.springframework.security.web.header.HeaderWriterFilter@33e4068, org.springframework.security.web.authentication.logout.LogoutFilter@cb1c58c, cn.rzpt.user.application.filter.TokenFilter@368424db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54970127, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4eb48298, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21c5c68a, org.springframework.security.web.session.SessionManagementFilter@1df32c09, org.springframework.security.web.access.ExceptionTranslationFilter@4037cdb0, org.springframework.security.web.access.intercept.AuthorizationFilter@3ca3eba2]
2024-06-21T02:35:13.324+08:00  INFO 34308 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T02:35:13.331+08:00  INFO 34308 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.071 seconds (process running for 3.514)
2024-06-21T02:35:13.334+08:00  INFO 34308 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T02:35:20.663+08:00  INFO 34308 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T02:35:20.664+08:00  INFO 34308 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T02:35:20.665+08:00  INFO 34308 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T13:24:10.397+08:00  INFO 46892 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 46892 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T13:24:10.399+08:00 DEBUG 46892 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T13:24:10.399+08:00  INFO 46892 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T13:24:11.511+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:24:11.513+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:24:11.529+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T13:24:11.533+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:24:11.534+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:24:11.540+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T13:24:11.548+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:24:11.549+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T13:24:11.561+08:00  INFO 46892 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T13:24:11.924+08:00 ERROR 46892 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T13:24:12.101+08:00  INFO 46892 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T13:24:12.112+08:00  INFO 46892 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T13:24:12.113+08:00  INFO 46892 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T13:24:12.173+08:00  INFO 46892 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T13:24:12.174+08:00  INFO 46892 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1734 ms
2024-06-21T13:24:12.518+08:00 DEBUG 46892 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T13:24:12.811+08:00  INFO 46892 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T13:24:13.248+08:00  INFO 46892 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ba226cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62e99458, org.springframework.security.web.context.SecurityContextHolderFilter@1eb52131, org.springframework.security.web.header.HeaderWriterFilter@510203de, org.springframework.security.web.authentication.logout.LogoutFilter@15fe020d, cn.rzpt.user.application.filter.TokenFilter@145a821d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67a3394c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6705b763, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1eddca25, org.springframework.security.web.session.SessionManagementFilter@2674ca88, org.springframework.security.web.access.ExceptionTranslationFilter@7455204c, org.springframework.security.web.access.intercept.AuthorizationFilter@59aa1d1c]
2024-06-21T13:24:13.880+08:00  INFO 46892 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T13:24:13.888+08:00  INFO 46892 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.869 seconds (process running for 4.521)
2024-06-21T13:24:13.893+08:00  INFO 46892 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T13:24:30.482+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T13:24:30.482+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T13:24:30.483+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T13:24:30.563+08:00 ERROR 46892 --- [ddd-demo] [http-nio-9999-exec-2] cn.rzpt.base.util.JwtUtil                : Jwt解析异常:io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-06-21T03:10:25Z. Current time: 2024-06-21T13:24:30Z, a difference of 36845562 milliseconds.  Allowed clock skew: 0 milliseconds.
2024-06-21T13:24:30.565+08:00 ERROR 46892 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

cn.rzpt.base.exception.BusinessException: 未登录
	at cn.rzpt.base.util.JwtUtil.parseToken(JwtUtil.java:72) ~[classes/:na]
	at cn.rzpt.base.util.JwtUtil.getUserId(JwtUtil.java:83) ~[classes/:na]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T13:24:37.154+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T13:24:37.361+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b519e6b
2024-06-21T13:24:37.362+08:00  INFO 46892 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T13:24:37.368+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T13:24:37.388+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax1(String)
2024-06-21T13:24:37.408+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T13:24:37.484+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T13:24:37.485+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax1(String), 追风少年(String), $2a$10$m2h.ofVJXw5WtmzgpG7FiuPa.jZzWsd6vdVK9H2lfrhzGSY2pRTwe(String), 7000@qq.com(String), 0(Integer), 2024-06-21T13:24:37.074287300(LocalDateTime), 2024-06-21T13:24:37.074287300(LocalDateTime)
2024-06-21T13:24:37.493+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T13:24:37.497+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 13:24:37","data":{"id":3,"username":"MyNameWax1","nickname":"追风少年","password":"$2a$10$m2h.ofVJXw5WtmzgpG7FiuPa.jZzWsd6vdVK9H2lfrhzGSY2pRTwe","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 13:24:37","updateTime":"2024-06-21 13:24:37"}}
2024-06-21T13:24:58.088+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T13:24:58.089+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax1(String)
2024-06-21T13:24:58.093+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T13:24:58.465+08:00 DEBUG 46892 --- [ddd-demo] [http-nio-9999-exec-6] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 13:24:58","data":{"username":"MyNameWax1","password":"123456","lastLoginTime":"2024-06-21 13:24:58"}}
2024-06-21T13:28:50.996+08:00  INFO 46892 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T13:28:51.004+08:00  INFO 46892 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T13:28:52.912+08:00  INFO 29884 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 29884 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T13:28:52.914+08:00 DEBUG 29884 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T13:28:52.915+08:00  INFO 29884 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T13:28:53.576+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:28:53.578+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:28:53.593+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T13:28:53.599+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:28:53.599+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:28:53.604+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T13:28:53.612+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:28:53.613+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T13:28:53.624+08:00  INFO 29884 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T13:28:53.983+08:00 ERROR 29884 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T13:28:54.133+08:00  INFO 29884 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T13:28:54.143+08:00  INFO 29884 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T13:28:54.143+08:00  INFO 29884 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T13:28:54.193+08:00  INFO 29884 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T13:28:54.193+08:00  INFO 29884 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1244 ms
2024-06-21T13:28:54.499+08:00 DEBUG 29884 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T13:28:54.737+08:00  INFO 29884 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T13:28:55.118+08:00  INFO 29884 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62e99458, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eddca25, org.springframework.security.web.context.SecurityContextHolderFilter@1e1598e5, org.springframework.security.web.header.HeaderWriterFilter@5b0835cb, org.springframework.security.web.authentication.logout.LogoutFilter@10830d50, cn.rzpt.user.application.filter.TokenFilter@60c98f25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34e4fb39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e04b8a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22f057b4, org.springframework.security.web.session.SessionManagementFilter@67a3dd86, org.springframework.security.web.access.ExceptionTranslationFilter@34e68840, org.springframework.security.web.access.intercept.AuthorizationFilter@169d4aba]
2024-06-21T13:28:55.657+08:00  INFO 29884 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T13:28:55.665+08:00  INFO 29884 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.126 seconds (process running for 3.578)
2024-06-21T13:28:55.669+08:00  INFO 29884 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T13:29:10.067+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T13:29:10.067+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T13:29:10.068+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T13:29:10.239+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T13:29:10.424+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@289aebf6
2024-06-21T13:29:10.425+08:00  INFO 29884 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T13:29:10.431+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T13:29:10.448+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax2(String)
2024-06-21T13:29:10.466+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T13:29:10.541+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T13:29:10.542+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax2(String), 追风少年(String), $2a$10$6q15TIx2T1XZ4TVC.XjVBebPMLr183Gy5Kk.PWvO4JUPhgZkgEZCS(String), 7000@qq.com(String), 0(Integer), 2024-06-21T13:29:10.175047100(LocalDateTime), 2024-06-21T13:29:10.175047100(LocalDateTime)
2024-06-21T13:29:10.548+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T13:29:10.561+08:00 DEBUG 29884 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 13:29:10","data":{"id":4,"username":"MyNameWax2","nickname":"追风少年","password":"$2a$10$6q15TIx2T1XZ4TVC.XjVBebPMLr183Gy5Kk.PWvO4JUPhgZkgEZCS","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 13:29:10","updateTime":"2024-06-21 13:29:10"}}
2024-06-21T13:40:07.872+08:00  INFO 29884 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T13:40:07.884+08:00  INFO 29884 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T13:40:09.966+08:00  INFO 25740 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 25740 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T13:40:09.967+08:00 DEBUG 25740 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T13:40:09.968+08:00  INFO 25740 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T13:40:10.679+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:10.680+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:40:10.695+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T13:40:10.700+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:10.701+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:40:10.706+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T13:40:10.714+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:10.715+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T13:40:10.723+08:00  INFO 25740 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T13:40:11.071+08:00 ERROR 25740 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T13:40:11.216+08:00  INFO 25740 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T13:40:11.225+08:00  INFO 25740 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T13:40:11.226+08:00  INFO 25740 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T13:40:11.278+08:00  INFO 25740 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T13:40:11.278+08:00  INFO 25740 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms
2024-06-21T13:40:11.584+08:00 DEBUG 25740 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T13:40:11.824+08:00  INFO 25740 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T13:40:12.215+08:00  INFO 25740 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@247dcbba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@535be281, org.springframework.security.web.context.SecurityContextHolderFilter@f837c11, org.springframework.security.web.header.HeaderWriterFilter@4f98ac31, org.springframework.security.web.authentication.logout.LogoutFilter@20a9fb01, cn.rzpt.user.application.filter.TokenFilter@134c38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3731e8b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42474b18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20db19ff, org.springframework.security.web.session.SessionManagementFilter@683fac7e, org.springframework.security.web.access.ExceptionTranslationFilter@36fe83d, org.springframework.security.web.access.intercept.AuthorizationFilter@4eb73cc8]
2024-06-21T13:40:12.771+08:00  INFO 25740 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T13:40:12.777+08:00  INFO 25740 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.185 seconds (process running for 3.687)
2024-06-21T13:40:12.781+08:00  INFO 25740 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T13:40:20.023+08:00  INFO 11504 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 11504 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T13:40:20.024+08:00 DEBUG 11504 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T13:40:20.026+08:00  INFO 11504 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T13:40:20.704+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:20.707+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:40:20.720+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T13:40:20.725+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:20.725+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T13:40:20.730+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T13:40:20.738+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T13:40:20.739+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T13:40:20.748+08:00  INFO 11504 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T13:40:21.111+08:00 ERROR 11504 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T13:40:21.261+08:00  INFO 11504 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T13:40:21.271+08:00  INFO 11504 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T13:40:21.271+08:00  INFO 11504 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T13:40:21.321+08:00  INFO 11504 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T13:40:21.321+08:00  INFO 11504 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1262 ms
2024-06-21T13:40:21.634+08:00 DEBUG 11504 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T13:40:21.867+08:00  INFO 11504 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T13:40:22.258+08:00  INFO 11504 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62e99458, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eddca25, org.springframework.security.web.context.SecurityContextHolderFilter@1e1598e5, org.springframework.security.web.header.HeaderWriterFilter@5b0835cb, org.springframework.security.web.authentication.logout.LogoutFilter@10830d50, cn.rzpt.user.application.filter.TokenFilter@6ed51944, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34e4fb39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e04b8a0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22f057b4, org.springframework.security.web.session.SessionManagementFilter@67a3dd86, org.springframework.security.web.access.ExceptionTranslationFilter@34e68840, org.springframework.security.web.access.intercept.AuthorizationFilter@169d4aba]
2024-06-21T13:40:22.843+08:00  INFO 11504 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T13:40:22.852+08:00  INFO 11504 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.213 seconds (process running for 3.719)
2024-06-21T13:40:22.855+08:00  INFO 11504 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T13:40:35.353+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T13:40:35.353+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T13:40:35.354+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T13:40:35.534+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T13:40:35.728+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a30bc05
2024-06-21T13:40:35.729+08:00  INFO 11504 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T13:40:35.735+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T13:40:35.754+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax2(String)
2024-06-21T13:40:35.773+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T13:40:35.781+08:00 ERROR 11504 --- [ddd-demo] [http-nio-9999-exec-3] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T13:40:39.010+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T13:40:39.010+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax3(String)
2024-06-21T13:40:39.011+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T13:40:39.087+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T13:40:39.088+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax3(String), 追风少年(String), $2a$10$q2Sh7tTfhzXbNNykDnRz6u.bE8WUZeFAQa/Ojo3YON5BzmEAyrhSq(String), 7000@qq.com(String), 0(Integer), 2024-06-21T13:40:39.009393200(LocalDateTime), 2024-06-21T13:40:39.009393200(LocalDateTime)
2024-06-21T13:40:39.092+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T13:40:39.103+08:00 DEBUG 11504 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 13:40:39","data":{"id":5,"username":"MyNameWax3","nickname":"追风少年","password":"$2a$10$q2Sh7tTfhzXbNNykDnRz6u.bE8WUZeFAQa/Ojo3YON5BzmEAyrhSq","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 13:40:39","updateTime":"2024-06-21 13:40:39"}}
2024-06-21T14:04:43.279+08:00  INFO 11504 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T14:04:43.287+08:00  INFO 11504 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T14:04:46.301+08:00  INFO 31444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 31444 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T14:04:46.303+08:00 DEBUG 31444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T14:04:46.304+08:00  INFO 31444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T14:04:46.963+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T14:04:46.965+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T14:04:46.981+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T14:04:46.985+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T14:04:46.986+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T14:04:46.990+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T14:04:46.999+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T14:04:47.000+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T14:04:47.010+08:00  INFO 31444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T14:04:47.345+08:00 ERROR 31444 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T14:04:47.493+08:00  INFO 31444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T14:04:47.503+08:00  INFO 31444 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T14:04:47.503+08:00  INFO 31444 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T14:04:47.553+08:00  INFO 31444 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T14:04:47.553+08:00  INFO 31444 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1217 ms
2024-06-21T14:04:47.856+08:00 DEBUG 31444 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T14:04:48.093+08:00  INFO 31444 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T14:04:48.486+08:00  INFO 31444 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16f8df70, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f0ae0ee, org.springframework.security.web.context.SecurityContextHolderFilter@5401c6a8, org.springframework.security.web.header.HeaderWriterFilter@67a3dd86, org.springframework.security.web.authentication.logout.LogoutFilter@62e99458, cn.rzpt.user.application.filter.TokenFilter@1f0e2bdc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@359fa722, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3731e8b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6de9bba2, org.springframework.security.web.session.SessionManagementFilter@6705b763, org.springframework.security.web.access.ExceptionTranslationFilter@5d20195b, org.springframework.security.web.access.intercept.AuthorizationFilter@19fc0ef7]
2024-06-21T14:04:49.042+08:00  INFO 31444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T14:04:49.050+08:00  INFO 31444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.13 seconds (process running for 3.617)
2024-06-21T14:04:49.053+08:00  INFO 31444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T14:05:07.658+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T14:05:07.658+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T14:05:07.659+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T14:05:07.835+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T14:05:08.032+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@66859b36
2024-06-21T14:05:08.033+08:00  INFO 31444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T14:05:08.039+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T14:05:08.056+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax3(String)
2024-06-21T14:05:08.085+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T14:05:08.162+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T14:05:08.163+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax3(String), 追风少年(String), $2a$10$O1Ufm5NFLHyLQJgFXGwY8eiKOda/lGfGaRIGJn8juvwQhoa/rYaM2(String), 7000@qq.com(String), 0(Integer), 2024-06-21T14:05:07.765883600(LocalDateTime), 2024-06-21T14:05:07.765883600(LocalDateTime)
2024-06-21T14:05:08.170+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T14:05:08.181+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 14:05:08","data":{"id":1,"username":"MyNameWax3","nickname":"追风少年","password":"$2a$10$O1Ufm5NFLHyLQJgFXGwY8eiKOda/lGfGaRIGJn8juvwQhoa/rYaM2","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 14:05:07","updateTime":"2024-06-21 14:05:07"}}
2024-06-21T15:32:52.499+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-5] cn.rzpt.base.util.JwtUtil                : Jwt解析异常:io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-06-21T14:24:58Z. Current time: 2024-06-21T15:32:52Z, a difference of 4074496 milliseconds.  Allowed clock skew: 0 milliseconds.
2024-06-21T15:32:52.510+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

cn.rzpt.base.exception.BusinessException: 未登录
	at cn.rzpt.base.util.JwtUtil.parseToken(JwtUtil.java:72) ~[classes/:na]
	at cn.rzpt.base.util.JwtUtil.getUserId(JwtUtil.java:83) ~[classes/:na]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T15:32:53.640+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-7] cn.rzpt.base.util.JwtUtil                : Jwt解析异常:io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-06-21T14:24:58Z. Current time: 2024-06-21T15:32:53Z, a difference of 4075640 milliseconds.  Allowed clock skew: 0 milliseconds.
2024-06-21T15:32:53.640+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

cn.rzpt.base.exception.BusinessException: 未登录
	at cn.rzpt.base.util.JwtUtil.parseToken(JwtUtil.java:72) ~[classes/:na]
	at cn.rzpt.base.util.JwtUtil.getUserId(JwtUtil.java:83) ~[classes/:na]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T15:32:55.769+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T15:32:55.772+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax1(String)
2024-06-21T15:32:55.775+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 0
2024-06-21T15:32:55.888+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-10] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/login 用户名或密码错误
2024-06-21T15:33:26.569+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T15:33:26.570+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax(String)
2024-06-21T15:33:26.575+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 0
2024-06-21T15:33:26.645+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-9] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/login 用户名或密码错误
2024-06-21T15:33:29.881+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-8] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T15:33:29.882+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-8] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax3(String)
2024-06-21T15:33:29.883+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-8] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T15:33:29.885+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-8] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T15:33:34.125+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T15:33:34.125+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax3(String)
2024-06-21T15:33:34.131+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T15:33:34.261+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 15:33:34","data":{"username":"MyNameWax3","password":"123456","lastLoginTime":"2024-06-21 15:33:34"}}
2024-06-21T15:33:41.962+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-2] cn.rzpt.base.util.JwtUtil                : Jwt解析异常:io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-06-21T14:24:58Z. Current time: 2024-06-21T15:33:41Z, a difference of 4123962 milliseconds.  Allowed clock skew: 0 milliseconds.
2024-06-21T15:33:41.963+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

cn.rzpt.base.exception.BusinessException: 未登录
	at cn.rzpt.base.util.JwtUtil.parseToken(JwtUtil.java:72) ~[classes/:na]
	at cn.rzpt.base.util.JwtUtil.getUserId(JwtUtil.java:83) ~[classes/:na]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T15:33:43.362+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-3] cn.rzpt.base.util.JwtUtil                : Jwt解析异常:io.jsonwebtoken.ExpiredJwtException: JWT expired at 2024-06-21T14:24:58Z. Current time: 2024-06-21T15:33:43Z, a difference of 4125362 milliseconds.  Allowed clock skew: 0 milliseconds.
2024-06-21T15:33:43.363+08:00 ERROR 31444 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

cn.rzpt.base.exception.BusinessException: 未登录
	at cn.rzpt.base.util.JwtUtil.parseToken(JwtUtil.java:72) ~[classes/:na]
	at cn.rzpt.base.util.JwtUtil.getUserId(JwtUtil.java:83) ~[classes/:na]
	at cn.rzpt.user.application.filter.TokenFilter.doFilterInternal(TokenFilter.java:39) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.0.jar:6.3.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.8.jar:6.1.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.8.jar:6.1.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-06-21T15:36:09.129+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@34a94c57 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.130+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5f50e9bd (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.131+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@76a13519 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.132+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@814046e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.133+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@59edcfaa (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.135+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1a8d82b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.136+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7ede2cfa (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.137+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5641603b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.137+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@61e675c6 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.138+08:00  WARN 31444 --- [ddd-demo] [http-nio-9999-exec-9] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@26c88051 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2024-06-21T15:36:09.148+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T15:36:09.148+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax5(String)
2024-06-21T15:36:09.150+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T15:36:09.222+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T15:36:09.223+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax5(String), 追风少年(String), $2a$10$nEMTV6Q.lHN.Eo9YootM/ursLj62NnZEqdcnB0WlSePx0PlGUsg7m(String), 7000@qq.com(String), 0(Integer), 2024-06-21T15:36:09.119846700(LocalDateTime), 2024-06-21T15:36:09.119846700(LocalDateTime)
2024-06-21T15:36:09.227+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T15:36:09.228+08:00 DEBUG 31444 --- [ddd-demo] [http-nio-9999-exec-9] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 15:36:09","data":{"id":5,"username":"MyNameWax5","nickname":"追风少年","password":"$2a$10$nEMTV6Q.lHN.Eo9YootM/ursLj62NnZEqdcnB0WlSePx0PlGUsg7m","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 15:36:09","updateTime":"2024-06-21 15:36:09"}}
2024-06-21T15:36:45.380+08:00  INFO 31444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T15:36:45.394+08:00  INFO 31444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T15:36:47.656+08:00  INFO 43700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 43700 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T15:36:47.658+08:00 DEBUG 43700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T15:36:47.659+08:00  INFO 43700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T15:36:48.363+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:36:48.365+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:36:48.380+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T15:36:48.385+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:36:48.386+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:36:48.390+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T15:36:48.399+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:36:48.400+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T15:36:48.410+08:00  INFO 43700 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T15:36:48.764+08:00 ERROR 43700 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T15:36:48.917+08:00  INFO 43700 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T15:36:48.926+08:00  INFO 43700 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T15:36:48.927+08:00  INFO 43700 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T15:36:48.978+08:00  INFO 43700 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T15:36:48.979+08:00  INFO 43700 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1284 ms
2024-06-21T15:36:49.299+08:00 DEBUG 43700 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T15:36:49.545+08:00  INFO 43700 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T15:36:49.950+08:00  INFO 43700 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7682bf66, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb73cc8, org.springframework.security.web.context.SecurityContextHolderFilter@5895c065, org.springframework.security.web.header.HeaderWriterFilter@67a3394c, org.springframework.security.web.authentication.logout.LogoutFilter@767b9d66, cn.rzpt.user.application.filter.TokenFilter@6c5ae8fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2051a0ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33089426, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e23ba17, org.springframework.security.web.session.SessionManagementFilter@1ef5cde4, org.springframework.security.web.access.ExceptionTranslationFilter@1eb52131, org.springframework.security.web.access.intercept.AuthorizationFilter@6f0ae0ee]
2024-06-21T15:36:50.544+08:00  INFO 43700 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T15:36:50.551+08:00  INFO 43700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.263 seconds (process running for 3.854)
2024-06-21T15:36:50.555+08:00  INFO 43700 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T15:36:59.952+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T15:36:59.952+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T15:36:59.953+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T15:37:00.131+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T15:37:00.321+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41759801
2024-06-21T15:37:00.323+08:00  INFO 43700 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T15:37:00.329+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T15:37:00.345+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNameWax32(String)
2024-06-21T15:37:00.362+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T15:37:00.438+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T15:37:00.438+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNameWax32(String), 追风少年(String), $2a$10$Upx9CaPvcNgPkKOXyaws4uWvIEI06VnjmUYrRtCxBzghSPPGZRJY6(String), 7000@qq.com(String), 0(Integer), 2024-06-21T15:37:00.065062400(LocalDateTime), 2024-06-21T15:37:00.065062400(LocalDateTime)
2024-06-21T15:37:00.445+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T15:37:00.457+08:00 DEBUG 43700 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 15:37:00","data":{"id":6,"username":"MyNameWax32","nickname":"追风少年","password":"$2a$10$Upx9CaPvcNgPkKOXyaws4uWvIEI06VnjmUYrRtCxBzghSPPGZRJY6","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 15:37:00","updateTime":"2024-06-21 15:37:00"}}
2024-06-21T15:39:19.694+08:00  INFO 43700 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T15:39:19.704+08:00  INFO 43700 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T15:39:22.169+08:00  INFO 47468 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 47468 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T15:39:22.171+08:00 DEBUG 47468 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T15:39:22.171+08:00  INFO 47468 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T15:39:22.846+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:39:22.849+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:39:22.863+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T15:39:22.867+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:39:22.868+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:39:22.873+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T15:39:22.882+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:39:22.883+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T15:39:22.891+08:00  INFO 47468 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T15:39:23.237+08:00 ERROR 47468 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T15:39:23.386+08:00  INFO 47468 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T15:39:23.395+08:00  INFO 47468 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T15:39:23.395+08:00  INFO 47468 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T15:39:23.445+08:00  INFO 47468 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T15:39:23.445+08:00  INFO 47468 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1239 ms
2024-06-21T15:39:23.751+08:00 DEBUG 47468 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T15:39:23.990+08:00  INFO 47468 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T15:39:24.387+08:00  INFO 47468 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ea8ff31, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ba36c83, org.springframework.security.web.context.SecurityContextHolderFilter@4a9ff419, org.springframework.security.web.header.HeaderWriterFilter@4e26040f, org.springframework.security.web.authentication.logout.LogoutFilter@35995029, cn.rzpt.user.application.filter.TokenFilter@5d2e6f62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6493f780, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e1598e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5342032a, org.springframework.security.web.session.SessionManagementFilter@62615be, org.springframework.security.web.access.ExceptionTranslationFilter@38f63756, org.springframework.security.web.access.intercept.AuthorizationFilter@15fe020d]
2024-06-21T15:39:24.937+08:00  INFO 47468 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T15:39:24.945+08:00  INFO 47468 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.144 seconds (process running for 3.661)
2024-06-21T15:39:24.948+08:00  INFO 47468 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T15:39:39.770+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T15:39:39.770+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T15:39:39.771+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T15:39:39.974+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T15:39:40.187+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ea6a616
2024-06-21T15:39:40.188+08:00  INFO 47468 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T15:39:40.194+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T15:39:40.214+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyName2Wax32(String)
2024-06-21T15:39:40.233+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T15:39:40.312+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T15:39:40.313+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyName2Wax32(String), 追风少年(String), $2a$10$RB2g0IqEb6iKM0n/JG7DpuW4LDae6UJcaXieVvdBm1OTkx.3iOvtq(String), 7000@qq.com(String), 0(Integer), 2024-06-21T15:39:39.888945500(LocalDateTime), 2024-06-21T15:39:39.888945500(LocalDateTime)
2024-06-21T15:39:40.320+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T15:39:40.331+08:00 DEBUG 47468 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 15:39:40","data":{"id":8,"username":"MyName2Wax32","nickname":"追风少年","password":"$2a$10$RB2g0IqEb6iKM0n/JG7DpuW4LDae6UJcaXieVvdBm1OTkx.3iOvtq","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 15:39:39","updateTime":"2024-06-21 15:39:39"}}
2024-06-21T15:43:00.158+08:00  INFO 47468 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T15:43:00.172+08:00  INFO 47468 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T15:43:02.279+08:00  INFO 16596 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 16596 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T15:43:02.281+08:00 DEBUG 16596 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T15:43:02.282+08:00  INFO 16596 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T15:43:02.975+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:43:02.977+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:43:02.992+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T15:43:02.996+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:43:02.996+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T15:43:03.002+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T15:43:03.010+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T15:43:03.011+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T15:43:03.022+08:00  INFO 16596 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T15:43:03.364+08:00 ERROR 16596 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T15:43:03.510+08:00  INFO 16596 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T15:43:03.519+08:00  INFO 16596 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T15:43:03.519+08:00  INFO 16596 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T15:43:03.565+08:00  INFO 16596 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T15:43:03.566+08:00  INFO 16596 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1252 ms
2024-06-21T15:43:03.870+08:00 DEBUG 16596 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T15:43:04.102+08:00  INFO 16596 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T15:43:04.506+08:00  INFO 16596 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e23ba17, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47e725af, org.springframework.security.web.context.SecurityContextHolderFilter@2051a0ec, org.springframework.security.web.header.HeaderWriterFilter@36fe83d, org.springframework.security.web.authentication.logout.LogoutFilter@266a47fd, cn.rzpt.user.application.filter.TokenFilter@1aed6f0b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f837c11, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bbef3c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@247dcbba, org.springframework.security.web.session.SessionManagementFilter@27b7204, org.springframework.security.web.access.ExceptionTranslationFilter@67a3394c, org.springframework.security.web.access.intercept.AuthorizationFilter@2651e783]
2024-06-21T15:43:05.103+08:00  INFO 16596 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T15:43:05.109+08:00  INFO 16596 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.234 seconds (process running for 3.753)
2024-06-21T15:43:05.113+08:00  INFO 16596 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T15:43:38.288+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T15:43:38.289+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T15:43:38.290+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T15:43:43.052+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T15:43:43.239+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@369c029
2024-06-21T15:43:43.240+08:00  INFO 16596 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T15:43:43.255+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T15:43:43.271+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyName2W2ax32(String)
2024-06-21T15:43:43.291+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T15:43:43.368+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T15:43:43.369+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyName2W2ax32(String), 追风少年(String), $2a$10$dUdsefm3zRV/Wyi2X6mtqeeQua0F3k6cSNiKepPY/lMLHZhcdAwii(String), 7000@qq.com(String), 0(Integer), 2024-06-21T15:43:42.982724400(LocalDateTime), 2024-06-21T15:43:42.982724400(LocalDateTime)
2024-06-21T15:43:43.375+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T15:43:43.379+08:00 DEBUG 16596 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 15:43:43","data":{"id":9,"username":"MyName2W2ax32","nickname":"追风少年","password":"$2a$10$dUdsefm3zRV/Wyi2X6mtqeeQua0F3k6cSNiKepPY/lMLHZhcdAwii","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 15:43:42","updateTime":"2024-06-21 15:43:42"}}
2024-06-21T16:13:54.471+08:00  INFO 16596 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T16:13:54.482+08:00  INFO 16596 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T16:13:56.925+08:00  INFO 18680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 18680 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T16:13:56.928+08:00 DEBUG 18680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T16:13:56.929+08:00  INFO 18680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T16:13:57.745+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T16:13:57.747+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T16:13:57.772+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T16:13:57.780+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T16:13:57.781+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T16:13:57.787+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T16:13:57.797+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T16:13:57.798+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T16:13:57.810+08:00  INFO 18680 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T16:13:58.221+08:00 ERROR 18680 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T16:13:58.410+08:00  INFO 18680 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T16:13:58.422+08:00  INFO 18680 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T16:13:58.423+08:00  INFO 18680 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T16:13:58.482+08:00  INFO 18680 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T16:13:58.483+08:00  INFO 18680 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms
2024-06-21T16:13:58.835+08:00 DEBUG 18680 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T16:13:59.129+08:00  INFO 18680 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T16:13:59.602+08:00  INFO 18680 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7682bf66, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb73cc8, org.springframework.security.web.context.SecurityContextHolderFilter@5895c065, org.springframework.security.web.header.HeaderWriterFilter@67a3394c, org.springframework.security.web.authentication.logout.LogoutFilter@767b9d66, cn.rzpt.user.application.filter.TokenFilter@6c5ae8fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2051a0ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33089426, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e23ba17, org.springframework.security.web.session.SessionManagementFilter@1ef5cde4, org.springframework.security.web.access.ExceptionTranslationFilter@1eb52131, org.springframework.security.web.access.intercept.AuthorizationFilter@6f0ae0ee]
2024-06-21T16:14:00.273+08:00  INFO 18680 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T16:14:00.283+08:00  INFO 18680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.79 seconds (process running for 4.369)
2024-06-21T16:14:00.287+08:00  INFO 18680 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T16:16:03.423+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T16:16:03.423+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T16:16:03.425+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T16:16:03.622+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T16:16:03.822+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@358cc87a
2024-06-21T16:16:03.823+08:00  INFO 18680 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T16:16:03.829+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T16:16:03.846+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNam22e2W2ax32(String)
2024-06-21T16:16:03.864+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T16:16:03.943+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T16:16:03.944+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNam22e2W2ax32(String), 追风少年(String), $2a$10$IEVH6FKQPoHvtWFaQQbTDub1mYDqCnx3F1TaAItAWBIoAgBmusHqO(String), 7000@qq.com(String), 0(Integer), 2024-06-21T16:16:03.545046800(LocalDateTime), 2024-06-21T16:16:03.545046800(LocalDateTime)
2024-06-21T16:16:03.954+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T16:16:03.967+08:00 DEBUG 18680 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 16:16:03","data":{"id":11,"username":"MyNam22e2W2ax32","nickname":"追风少年","password":"$2a$10$IEVH6FKQPoHvtWFaQQbTDub1mYDqCnx3F1TaAItAWBIoAgBmusHqO","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 16:16:03","updateTime":"2024-06-21 16:16:03"}}
2024-06-21T17:34:29.203+08:00  INFO 18680 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:34:29.216+08:00  INFO 18680 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:34:35.519+08:00  INFO 45972 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 45972 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:34:35.521+08:00 DEBUG 45972 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:34:35.522+08:00  INFO 45972 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:34:36.503+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:34:36.504+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:34:36.524+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:34:36.528+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:34:36.528+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:34:36.535+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:34:36.543+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:34:36.544+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:34:36.558+08:00  INFO 45972 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-06-21T17:34:36.877+08:00 ERROR 45972 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:34:37.019+08:00  INFO 45972 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:34:37.027+08:00  INFO 45972 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:34:37.028+08:00  INFO 45972 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:34:37.074+08:00  INFO 45972 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:34:37.075+08:00  INFO 45972 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1507 ms
2024-06-21T17:34:37.369+08:00 DEBUG 45972 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:34:37.589+08:00  INFO 45972 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:34:37.951+08:00  INFO 45972 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e030cc1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f2ef402, org.springframework.security.web.context.SecurityContextHolderFilter@37665305, org.springframework.security.web.header.HeaderWriterFilter@2e4d2232, org.springframework.security.web.authentication.logout.LogoutFilter@55f23335, cn.rzpt.user.application.filter.TokenFilter@37d6dddc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c224096, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bceac99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14bf9fd0, org.springframework.security.web.session.SessionManagementFilter@2553dcc0, org.springframework.security.web.access.ExceptionTranslationFilter@664254b6, org.springframework.security.web.access.intercept.AuthorizationFilter@23365142]
2024-06-21T17:34:38.457+08:00  INFO 45972 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:34:38.463+08:00  INFO 45972 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.281 seconds (process running for 3.742)
2024-06-21T17:35:23.615+08:00  INFO 39952 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 39952 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:35:23.617+08:00 DEBUG 39952 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:35:23.617+08:00  INFO 39952 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:35:24.267+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:35:24.269+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:35:24.289+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:35:24.294+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:35:24.294+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:35:24.299+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:35:24.307+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:35:24.309+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:35:24.317+08:00  INFO 39952 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T17:35:24.645+08:00 ERROR 39952 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:35:24.775+08:00  INFO 39952 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:35:24.784+08:00  INFO 39952 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:35:24.785+08:00  INFO 39952 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:35:24.832+08:00  INFO 39952 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:35:24.832+08:00  INFO 39952 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1171 ms
2024-06-21T17:35:25.116+08:00 DEBUG 39952 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:35:25.334+08:00  INFO 39952 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:35:25.687+08:00  INFO 39952 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20518250, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7836c79, org.springframework.security.web.context.SecurityContextHolderFilter@4bceac99, org.springframework.security.web.header.HeaderWriterFilter@2c70a1de, org.springframework.security.web.authentication.logout.LogoutFilter@6549ce71, cn.rzpt.user.application.filter.TokenFilter@314f59b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@442310fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@903c13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ccc971e, org.springframework.security.web.session.SessionManagementFilter@1dadd172, org.springframework.security.web.access.ExceptionTranslationFilter@491cc0eb, org.springframework.security.web.access.intercept.AuthorizationFilter@64887fbc]
2024-06-21T17:35:26.191+08:00  INFO 39952 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:35:26.199+08:00  INFO 39952 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.917 seconds (process running for 3.316)
2024-06-21T17:35:47.435+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:35:47.435+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:35:47.437+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:35:47.604+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:35:47.791+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b2059a6
2024-06-21T17:35:47.793+08:00  INFO 39952 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:35:47.798+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:35:47.814+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNa2m22e2W2ax32(String)
2024-06-21T17:35:47.831+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:35:47.906+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:35:47.906+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNa2m22e2W2ax32(String), 追风少年(String), $2a$10$RP4pBDVSSyqTs/jyzlNa6uSkEpPWy1nIyj49rpd2ef9XrLnXstvKO(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:35:47.541909400(LocalDateTime), 2024-06-21T17:35:47.541909400(LocalDateTime)
2024-06-21T17:35:47.913+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:35:47.925+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:35:47","data":{"id":12,"username":"MyNa2m22e2W2ax32","nickname":"追风少年","password":"$2a$10$RP4pBDVSSyqTs/jyzlNa6uSkEpPWy1nIyj49rpd2ef9XrLnXstvKO","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:35:47","updateTime":"2024-06-21 17:35:47"}}
2024-06-21T17:35:48.491+08:00  INFO 39952 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T17:35:57.657+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==>  Preparing: SELECT id,username,nickname,password,email,sex,del_flag,last_login_time,create_time,update_time FROM sys_user WHERE (username = ?)
2024-06-21T17:35:57.657+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : ==> Parameters: MyNameWax3(String)
2024-06-21T17:35:57.661+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectList   : <==      Total: 1
2024-06-21T17:35:58.011+08:00 DEBUG 39952 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:35:58","data":{"username":"MyNameWax3","password":"123456","lastLoginTime":"2024-06-21 17:35:57"}}
2024-06-21T17:39:52.139+08:00  INFO 39952 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:39:52.154+08:00  INFO 39952 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:40:07.138+08:00  INFO 46556 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 46556 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:40:07.140+08:00 DEBUG 46556 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:40:07.141+08:00  INFO 46556 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:40:07.808+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:40:07.810+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:40:07.830+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:40:07.835+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:40:07.835+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:40:07.841+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:40:07.849+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:40:07.850+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:40:07.868+08:00  INFO 46556 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T17:40:08.193+08:00 ERROR 46556 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:40:08.329+08:00  INFO 46556 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:40:08.337+08:00  INFO 46556 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:40:08.337+08:00  INFO 46556 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:40:08.386+08:00  INFO 46556 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:40:08.387+08:00  INFO 46556 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1203 ms
2024-06-21T17:40:08.671+08:00 DEBUG 46556 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:40:08.899+08:00  INFO 46556 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:40:09.258+08:00  INFO 46556 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3605ab16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30cb223b, org.springframework.security.web.context.SecurityContextHolderFilter@5ebfe7fa, org.springframework.security.web.header.HeaderWriterFilter@33c9f1ac, org.springframework.security.web.authentication.logout.LogoutFilter@7836c79, cn.rzpt.user.application.filter.TokenFilter@7f5e6833, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ba1f56e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f3fcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24d0c6a4, org.springframework.security.web.session.SessionManagementFilter@903c13, org.springframework.security.web.access.ExceptionTranslationFilter@6a5c2d2d, org.springframework.security.web.access.intercept.AuthorizationFilter@2e7517aa]
2024-06-21T17:40:09.769+08:00  INFO 46556 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:40:09.776+08:00  INFO 46556 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.976 seconds (process running for 3.379)
2024-06-21T17:40:16.257+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:40:16.258+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:40:16.259+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:40:21.486+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:40:21.669+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a33408d
2024-06-21T17:40:21.671+08:00  INFO 46556 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:40:21.676+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:40:21.693+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNa2m22e2W2ax32(String)
2024-06-21T17:40:21.713+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:40:21.720+08:00 ERROR 46556 --- [ddd-demo] [http-nio-9999-exec-3] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T17:40:25.500+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:40:25.500+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyNa2m22e22W2ax32(String)
2024-06-21T17:40:25.502+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:40:25.602+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:40:25.603+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyNa2m22e22W2ax32(String), 追风少年(String), $2a$10$eHRudOSTRbXT2UsNAf/XGOVfzFpSTfPkUL4VQBWC/6R9GIhLNvi1m(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:40:25.498534200(LocalDateTime), 2024-06-21T17:40:25.498534200(LocalDateTime)
2024-06-21T17:40:25.612+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:40:25.617+08:00 DEBUG 46556 --- [ddd-demo] [http-nio-9999-exec-4] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:40:25","data":{"id":13,"username":"MyNa2m22e22W2ax32","nickname":"追风少年","password":"$2a$10$eHRudOSTRbXT2UsNAf/XGOVfzFpSTfPkUL4VQBWC/6R9GIhLNvi1m","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:40:25","updateTime":"2024-06-21 17:40:25"}}
2024-06-21T17:40:25.977+08:00  INFO 46556 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 是DDL语句
2024-06-21T17:40:25.979+08:00  INFO 46556 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T17:41:56.189+08:00  INFO 46556 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:41:56.201+08:00  INFO 46556 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:41:59.969+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 18444 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:41:59.971+08:00 DEBUG 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:41:59.972+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:42:00.744+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:42:00.745+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:42:00.761+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:42:00.765+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:42:00.767+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:42:00.772+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:42:00.782+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:42:00.783+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:42:00.794+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T17:42:01.174+08:00 ERROR 18444 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:42:01.329+08:00  INFO 18444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:42:01.339+08:00  INFO 18444 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:42:01.340+08:00  INFO 18444 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:42:01.395+08:00  INFO 18444 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:42:01.397+08:00  INFO 18444 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1367 ms
2024-06-21T17:42:01.713+08:00 DEBUG 18444 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:42:01.974+08:00  INFO 18444 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:42:02.384+08:00  INFO 18444 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5065bdac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e9dcdd3, org.springframework.security.web.context.SecurityContextHolderFilter@5d98364c, org.springframework.security.web.header.HeaderWriterFilter@36cf6377, org.springframework.security.web.authentication.logout.LogoutFilter@3be369fc, cn.rzpt.user.application.filter.TokenFilter@1fd37440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fd35a92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@574f9e36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e617c0e, org.springframework.security.web.session.SessionManagementFilter@4fd63c43, org.springframework.security.web.access.ExceptionTranslationFilter@6d9ee75a, org.springframework.security.web.access.intercept.AuthorizationFilter@4e26040f]
2024-06-21T17:42:02.961+08:00  INFO 18444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:42:02.968+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.438 seconds (process running for 4.002)
2024-06-21T17:42:08.382+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:42:08.383+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:42:08.384+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:42:08.563+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:42:08.755+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@448b4745
2024-06-21T17:42:08.758+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:42:08.763+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:42:08.780+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: M22e22W2ax32(String)
2024-06-21T17:42:08.797+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:42:08.882+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:42:08.883+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: M22e22W2ax32(String), 追风少年(String), $2a$10$FT3NwnOTTMg3C97.ZBdEk.mwU/AtbvrD4d16EGWr5zoi3/lRJUaii(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:42:08.495905200(LocalDateTime), 2024-06-21T17:42:08.495905200(LocalDateTime)
2024-06-21T17:42:08.894+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:42:08.908+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:42:08","data":{"id":14,"username":"M22e22W2ax32","nickname":"追风少年","password":"$2a$10$FT3NwnOTTMg3C97.ZBdEk.mwU/AtbvrD4d16EGWr5zoi3/lRJUaii","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:42:08","updateTime":"2024-06-21 17:42:08"}}
2024-06-21T17:43:53.437+08:00  WARN 18444 --- [ddd-demo] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m44s577ms350µs800ns).
2024-06-21T17:43:53.440+08:00  INFO 18444 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T17:45:37.698+08:00  INFO 18444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:45:37.710+08:00  INFO 18444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:45:41.058+08:00  INFO 45052 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 45052 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:45:41.060+08:00 DEBUG 45052 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:45:41.061+08:00  INFO 45052 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:45:41.799+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:45:41.800+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:45:41.816+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:45:41.822+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:45:41.822+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:45:41.828+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:45:41.836+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:45:41.836+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:45:41.846+08:00  INFO 45052 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T17:45:42.188+08:00 ERROR 45052 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:45:42.356+08:00  INFO 45052 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:45:42.366+08:00  INFO 45052 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:45:42.366+08:00  INFO 45052 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:45:42.421+08:00  INFO 45052 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:45:42.422+08:00  INFO 45052 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1313 ms
2024-06-21T17:45:42.741+08:00 DEBUG 45052 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:45:42.984+08:00  INFO 45052 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:45:43.433+08:00  INFO 45052 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e26040f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1782896, org.springframework.security.web.context.SecurityContextHolderFilter@4fd63c43, org.springframework.security.web.header.HeaderWriterFilter@1870b9b8, org.springframework.security.web.authentication.logout.LogoutFilter@6a3a56de, cn.rzpt.user.application.filter.TokenFilter@756c67cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cea67b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70aa03c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8bde368, org.springframework.security.web.session.SessionManagementFilter@3b1137b0, org.springframework.security.web.access.ExceptionTranslationFilter@344a065a, org.springframework.security.web.access.intercept.AuthorizationFilter@7cf66cf9]
2024-06-21T17:45:44.010+08:00  INFO 45052 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:45:44.019+08:00  INFO 45052 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.338 seconds (process running for 3.806)
2024-06-21T17:45:44.493+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:45:44.493+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:45:44.494+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:45:44.714+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:45:44.962+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13c644cd
2024-06-21T17:45:44.964+08:00  INFO 45052 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:45:44.973+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:45:44.994+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: M22e22W2ax32(String)
2024-06-21T17:45:45.014+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:45:45.023+08:00 ERROR 45052 --- [ddd-demo] [http-nio-9999-exec-1] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T17:45:47.094+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:45:47.094+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: M213W2ax32(String)
2024-06-21T17:45:47.096+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:45:47.173+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:45:47.173+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: M213W2ax32(String), 追风少年(String), $2a$10$OeJ4WnjVk0efgW9wb9.HW.6DBVJiJr6NON8AIyg./zhDKbbDOohC6(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:45:47.092924400(LocalDateTime), 2024-06-21T17:45:47.092924400(LocalDateTime)
2024-06-21T17:45:47.178+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:45:47.190+08:00 DEBUG 45052 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:45:47","data":{"id":15,"username":"M213W2ax32","nickname":"追风少年","password":"$2a$10$OeJ4WnjVk0efgW9wb9.HW.6DBVJiJr6NON8AIyg./zhDKbbDOohC6","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:45:47","updateTime":"2024-06-21 17:45:47"}}
2024-06-21T17:45:48.126+08:00  INFO 45052 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 输出存储的值:<ByteString@65b69ccb size=518>
2024-06-21T17:45:48.127+08:00  INFO 45052 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T17:51:37.826+08:00  INFO 45052 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:51:37.837+08:00  INFO 45052 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:51:41.201+08:00  INFO 31864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 31864 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:51:41.204+08:00 DEBUG 31864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:51:41.205+08:00  INFO 31864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:51:41.941+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:51:41.943+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:51:41.960+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:51:41.965+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:51:41.965+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:51:41.972+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:51:41.979+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:51:41.980+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:51:41.991+08:00  INFO 31864 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T17:51:42.343+08:00 ERROR 31864 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:51:42.496+08:00  INFO 31864 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:51:42.506+08:00  INFO 31864 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:51:42.507+08:00  INFO 31864 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:51:42.561+08:00  INFO 31864 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:51:42.562+08:00  INFO 31864 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1307 ms
2024-06-21T17:51:42.872+08:00 DEBUG 31864 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:51:43.127+08:00  INFO 31864 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:51:43.515+08:00  INFO 31864 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ed84be9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@400e741, org.springframework.security.web.context.SecurityContextHolderFilter@2befb16f, org.springframework.security.web.header.HeaderWriterFilter@d02c00, org.springframework.security.web.authentication.logout.LogoutFilter@5e34a84b, cn.rzpt.user.application.filter.TokenFilter@c6a692e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2aeb7c4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@afb7b03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3be369fc, org.springframework.security.web.session.SessionManagementFilter@6d9ee75a, org.springframework.security.web.access.ExceptionTranslationFilter@4ba402b5, org.springframework.security.web.access.intercept.AuthorizationFilter@522f0bb8]
2024-06-21T17:51:44.073+08:00  INFO 31864 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:51:44.081+08:00  INFO 31864 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.252 seconds (process running for 3.725)
2024-06-21T17:51:46.743+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:51:46.743+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:51:46.744+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:51:46.917+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:51:47.130+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@100e82c7
2024-06-21T17:51:47.132+08:00  INFO 31864 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:51:47.141+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:51:47.162+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3W2ax32(String)
2024-06-21T17:51:47.183+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:51:47.270+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:51:47.271+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3W2ax32(String), 追风少年(String), $2a$10$QosIz3q6WbMeLxTezkinVuw3ujQZ2A1bN5zYUs.d/o09x86EvQzoW(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:51:46.848300600(LocalDateTime), 2024-06-21T17:51:46.848300600(LocalDateTime)
2024-06-21T17:51:47.279+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:51:47.292+08:00 DEBUG 31864 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:51:47","data":{"id":16,"username":"3W2ax32","nickname":"追风少年","password":"$2a$10$QosIz3q6WbMeLxTezkinVuw3ujQZ2A1bN5zYUs.d/o09x86EvQzoW","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:51:46","updateTime":"2024-06-21 17:51:46"}}
2024-06-21T17:51:48.167+08:00  INFO 31864 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ===>获取数据:afterColumns {
  index: 0
  sqlType: -5
  name: "id"
  isKey: true
  updated: true
  isNull: false
  value: "16"
  mysqlType: "bigint"
}
afterColumns {
  index: 1
  sqlType: 12
  name: "username"
  isKey: false
  updated: true
  isNull: false
  value: "3W2ax32"
  mysqlType: "varchar(50)"
}
afterColumns {
  index: 2
  sqlType: 12
  name: "nickname"
  isKey: false
  updated: true
  isNull: false
  value: "\350\277\275\351\243\216\345\260\221\345\271\264"
  mysqlType: "varchar(50)"
}
afterColumns {
  index: 3
  sqlType: 12
  name: "password"
  isKey: false
  updated: true
  isNull: false
  value: "$2a$10$QosIz3q6WbMeLxTezkinVuw3ujQZ2A1bN5zYUs.d/o09x86EvQzoW"
  mysqlType: "varchar(100)"
}
afterColumns {
  index: 4
  sqlType: 12
  name: "email"
  isKey: false
  updated: true
  isNull: false
  value: "7000@qq.com"
  mysqlType: "varchar(100)"
}
afterColumns {
  index: 5
  sqlType: -6
  name: "sex"
  isKey: false
  updated: true
  isNull: false
  value: "0"
  mysqlType: "tinyint"
}
afterColumns {
  index: 6
  sqlType: -6
  name: "del_flag"
  isKey: false
  updated: true
  isNull: false
  value: "0"
  mysqlType: "tinyint"
}
afterColumns {
  index: 7
  sqlType: 93
  name: "last_login_time"
  isKey: false
  updated: true
  isNull: true
  mysqlType: "datetime"
}
afterColumns {
  index: 8
  sqlType: 93
  name: "create_time"
  isKey: false
  updated: true
  isNull: false
  value: "2024-06-21 17:51:47"
  mysqlType: "datetime"
}
afterColumns {
  index: 9
  sqlType: 93
  name: "update_time"
  isKey: false
  updated: true
  isNull: false
  value: "2024-06-21 17:51:47"
  mysqlType: "datetime"
}

2024-06-21T17:51:48.203+08:00  INFO 31864 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T17:55:18.417+08:00  INFO 31864 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T17:55:18.432+08:00  INFO 31864 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T17:55:21.617+08:00  INFO 29036 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 29036 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T17:55:21.619+08:00 DEBUG 29036 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T17:55:21.619+08:00  INFO 29036 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T17:55:22.313+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:55:22.315+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:55:22.330+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T17:55:22.335+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:55:22.335+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T17:55:22.340+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T17:55:22.352+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T17:55:22.352+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T17:55:22.365+08:00  INFO 29036 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2024-06-21T17:55:22.731+08:00 ERROR 29036 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T17:55:22.881+08:00  INFO 29036 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T17:55:22.891+08:00  INFO 29036 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T17:55:22.891+08:00  INFO 29036 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T17:55:22.941+08:00  INFO 29036 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T17:55:22.941+08:00  INFO 29036 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1274 ms
2024-06-21T17:55:23.248+08:00 DEBUG 29036 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T17:55:23.484+08:00  INFO 29036 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T17:55:23.874+08:00  INFO 29036 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e1598e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67a3394c, org.springframework.security.web.context.SecurityContextHolderFilter@1e406cbe, org.springframework.security.web.header.HeaderWriterFilter@70aa03c0, org.springframework.security.web.authentication.logout.LogoutFilter@477bea57, cn.rzpt.user.application.filter.TokenFilter@756c67cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dffa400, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2431050d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34e4fb39, org.springframework.security.web.session.SessionManagementFilter@762f8ff6, org.springframework.security.web.access.ExceptionTranslationFilter@6ee1ddcf, org.springframework.security.web.access.intercept.AuthorizationFilter@67a3dd86]
2024-06-21T17:55:24.434+08:00  INFO 29036 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T17:55:24.441+08:00  INFO 29036 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.176 seconds (process running for 3.639)
2024-06-21T17:55:41.225+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T17:55:41.225+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T17:55:41.226+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T17:55:41.435+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T17:55:41.645+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b3477a1
2024-06-21T17:55:41.647+08:00  INFO 29036 --- [ddd-demo] [http-nio-9999-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T17:55:41.654+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T17:55:41.673+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wax32(String)
2024-06-21T17:55:41.694+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T17:55:41.778+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T17:55:41.779+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wax32(String), 追风少年(String), $2a$10$LA5/RSWwXeX/KSliMOFxEeMh1ZS4rfhJDvl2pR2JxzecYr9K6g1Qi(String), 7000@qq.com(String), 0(Integer), 2024-06-21T17:55:41.359812500(LocalDateTime), 2024-06-21T17:55:41.359812500(LocalDateTime)
2024-06-21T17:55:41.788+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T17:55:41.802+08:00 DEBUG 29036 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 17:55:41","data":{"id":17,"username":"3Wax32","nickname":"追风少年","password":"$2a$10$LA5/RSWwXeX/KSliMOFxEeMh1ZS4rfhJDvl2pR2JxzecYr9K6g1Qi","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 17:55:41","updateTime":"2024-06-21 17:55:41"}}
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：id,字段值：17
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：username,字段值：3Wax32
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：nickname,字段值：追风少年
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：password,字段值：$2a$10$LA5/RSWwXeX/KSliMOFxEeMh1ZS4rfhJDvl2pR2JxzecYr9K6g1Qi
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：email,字段值：7000@qq.com
2024-06-21T17:55:42.701+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：sex,字段值：0
2024-06-21T17:55:42.702+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：del_flag,字段值：0
2024-06-21T17:55:42.702+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：last_login_time,字段值：
2024-06-21T17:55:42.702+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：create_time,字段值：2024-06-21 17:55:41
2024-06-21T17:55:42.702+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 字段名：update_time,字段值：2024-06-21 17:55:41
2024-06-21T17:55:42.702+08:00  INFO 29036 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:00:01.922+08:00  INFO 29036 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:00:01.948+08:00  INFO 29036 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:00:05.327+08:00  INFO 46592 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 46592 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:00:05.328+08:00 DEBUG 46592 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:00:05.329+08:00  INFO 46592 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:00:05.980+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:05.982+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:00:05.997+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:00:06.001+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:06.002+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:00:06.008+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:00:06.016+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:06.016+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:00:06.027+08:00  INFO 46592 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:00:06.356+08:00 ERROR 46592 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:00:06.503+08:00  INFO 46592 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:00:06.512+08:00  INFO 46592 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:00:06.513+08:00  INFO 46592 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:00:06.562+08:00  INFO 46592 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:00:06.562+08:00  INFO 46592 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1185 ms
2024-06-21T18:00:06.872+08:00 DEBUG 46592 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:00:07.108+08:00  INFO 46592 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:00:07.505+08:00  INFO 46592 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38f63756, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d7caf9c, org.springframework.security.web.context.SecurityContextHolderFilter@21ba0d33, org.springframework.security.web.header.HeaderWriterFilter@344a065a, org.springframework.security.web.authentication.logout.LogoutFilter@522f0bb8, cn.rzpt.user.application.filter.TokenFilter@6aa6c17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fd63c43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ee1ddcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e26040f, org.springframework.security.web.session.SessionManagementFilter@78ea700f, org.springframework.security.web.access.ExceptionTranslationFilter@6719f206, org.springframework.security.web.access.intercept.AuthorizationFilter@4c0930c4]
2024-06-21T18:00:08.088+08:00  INFO 46592 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:00:08.096+08:00  INFO 46592 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.134 seconds (process running for 3.588)
2024-06-21T18:00:12.375+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:00:12.376+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:00:12.376+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-06-21T18:00:12.568+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:00:12.769+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@af692c3
2024-06-21T18:00:12.770+08:00  INFO 46592 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:00:12.776+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:00:12.794+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wax9932(String)
2024-06-21T18:00:12.812+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:00:12.890+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:00:12.890+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wax9932(String), 追风少年(String), $2a$10$YNalOGpofGzhsdFhGinrgO0.OLE3EKJqW0Nz3KWNplpkD/Vjq/BZu(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:00:12.496126900(LocalDateTime), 2024-06-21T18:00:12.496126900(LocalDateTime)
2024-06-21T18:00:12.900+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:00:12.912+08:00 DEBUG 46592 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:00:12","data":{"id":18,"username":"3Wax9932","nickname":"追风少年","password":"$2a$10$YNalOGpofGzhsdFhGinrgO0.OLE3EKJqW0Nz3KWNplpkD/Vjq/BZu","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:00:12","updateTime":"2024-06-21 18:00:12"}}
2024-06-21T18:00:13.336+08:00  INFO 46592 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:18
2024-06-21T18:00:13.339+08:00  INFO 46592 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T18:00:13.354+08:00 ERROR 46592 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

cn.rzpt.base.exception.BusinessException: 系统错误
	at cn.rzpt.user.infrastructure.config.CanalConfig.run(CanalConfig.java:43) ~[classes/:na]
	at cn.rzpt.DddDemoApplication.run(DddDemoApplication.java:44) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:790) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:789) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:774) ~[spring-boot-3.3.0.jar:3.3.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:774) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:342) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:21) ~[classes/:na]

2024-06-21T18:00:13.377+08:00  INFO 46592 --- [ddd-demo] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:00:13.388+08:00  INFO 46592 --- [ddd-demo] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:00:54.232+08:00  INFO 37200 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 37200 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:00:54.234+08:00 DEBUG 37200 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:00:54.234+08:00  INFO 37200 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:00:54.877+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:54.879+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:00:54.894+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:00:54.898+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:54.898+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:00:54.903+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:00:54.912+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:00:54.912+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:00:54.923+08:00  INFO 37200 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:00:55.252+08:00 ERROR 37200 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:00:55.395+08:00  INFO 37200 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:00:55.405+08:00  INFO 37200 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:00:55.405+08:00  INFO 37200 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:00:55.455+08:00  INFO 37200 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:00:55.455+08:00  INFO 37200 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1188 ms
2024-06-21T18:00:55.749+08:00 DEBUG 37200 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:00:55.976+08:00  INFO 37200 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:00:56.358+08:00  INFO 37200 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34e4fb39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36fe83d, org.springframework.security.web.context.SecurityContextHolderFilter@4dffa400, org.springframework.security.web.header.HeaderWriterFilter@2435c6ae, org.springframework.security.web.authentication.logout.LogoutFilter@4a9ff419, cn.rzpt.user.application.filter.TokenFilter@1fd37440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@438c0aaf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@522f0bb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@310f8a05, org.springframework.security.web.session.SessionManagementFilter@1bf10539, org.springframework.security.web.access.ExceptionTranslationFilter@70aa03c0, org.springframework.security.web.access.intercept.AuthorizationFilter@1eb52131]
2024-06-21T18:00:56.901+08:00  INFO 37200 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:00:56.907+08:00  INFO 37200 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.033 seconds (process running for 3.477)
2024-06-21T18:00:57.080+08:00  INFO 37200 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:18
2024-06-21T18:00:57.084+08:00  INFO 37200 --- [ddd-demo] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-06-21T18:00:57.096+08:00 ERROR 37200 --- [ddd-demo] [main] o.s.boot.SpringApplication               : Application run failed

cn.rzpt.base.exception.BusinessException: 系统错误
	at cn.rzpt.user.infrastructure.config.CanalConfig.run(CanalConfig.java:43) ~[classes/:na]
	at cn.rzpt.DddDemoApplication.run(DddDemoApplication.java:44) ~[classes/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:790) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:789) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:774) ~[spring-boot-3.3.0.jar:3.3.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:774) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:342) ~[spring-boot-3.3.0.jar:3.3.0]
	at cn.rzpt.DddDemoApplication.main(DddDemoApplication.java:21) ~[classes/:na]

2024-06-21T18:01:14.657+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 18444 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:01:14.658+08:00 DEBUG 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:01:14.659+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:01:15.296+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:01:15.298+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:01:15.312+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:01:15.318+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:01:15.318+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:01:15.323+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:01:15.331+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:01:15.331+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:01:15.349+08:00  INFO 18444 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:01:15.655+08:00 ERROR 18444 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:01:15.794+08:00  INFO 18444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:01:15.803+08:00  INFO 18444 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:01:15.803+08:00  INFO 18444 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:01:15.850+08:00  INFO 18444 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:01:15.850+08:00  INFO 18444 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1146 ms
2024-06-21T18:01:16.125+08:00 DEBUG 18444 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:01:16.358+08:00  INFO 18444 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:01:16.743+08:00  INFO 18444 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67f266bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31c0c7e5, org.springframework.security.web.context.SecurityContextHolderFilter@29ee8174, org.springframework.security.web.header.HeaderWriterFilter@7bde704a, org.springframework.security.web.authentication.logout.LogoutFilter@8c18bde, cn.rzpt.user.application.filter.TokenFilter@7f5e6833, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6549ce71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fa2143d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@912747d, org.springframework.security.web.session.SessionManagementFilter@79ee779c, org.springframework.security.web.access.ExceptionTranslationFilter@76134251, org.springframework.security.web.access.intercept.AuthorizationFilter@2befb16f]
2024-06-21T18:01:17.271+08:00  INFO 18444 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:01:17.278+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.956 seconds (process running for 3.346)
2024-06-21T18:01:17.442+08:00  INFO 18444 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:18
2024-06-21T18:01:17.445+08:00  INFO 18444 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T18:02:04.910+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:02:04.910+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:02:04.912+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-06-21T18:02:05.053+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:02:05.222+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@416227a5
2024-06-21T18:02:05.224+08:00  INFO 18444 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:02:05.229+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:02:05.245+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa9932(String)
2024-06-21T18:02:05.262+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:02:05.337+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:02:05.337+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wa9932(String), 追风少年(String), $2a$10$t5XQOit026og8W45GGwaRO3Z6pSy5oUfnuEgnRK2mad69dGev7/oC(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:02:04.992115700(LocalDateTime), 2024-06-21T18:02:04.992115700(LocalDateTime)
2024-06-21T18:02:05.345+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:02:05.355+08:00 DEBUG 18444 --- [ddd-demo] [http-nio-9999-exec-2] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:02:05","data":{"id":19,"username":"3Wa9932","nickname":"追风少年","password":"$2a$10$t5XQOit026og8W45GGwaRO3Z6pSy5oUfnuEgnRK2mad69dGev7/oC","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:02:04","updateTime":"2024-06-21 18:02:04"}}
2024-06-21T18:02:18.344+08:00  INFO 18444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:02:18.357+08:00  INFO 18444 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:02:21.525+08:00  INFO 41008 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 41008 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:02:21.527+08:00 DEBUG 41008 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:02:21.528+08:00  INFO 41008 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:02:22.174+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:02:22.175+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:02:22.189+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:02:22.194+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:02:22.194+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:02:22.200+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:02:22.208+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:02:22.213+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:02:22.223+08:00  INFO 41008 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:02:22.527+08:00 ERROR 41008 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:02:22.666+08:00  INFO 41008 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:02:22.675+08:00  INFO 41008 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:02:22.676+08:00  INFO 41008 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:02:22.729+08:00  INFO 41008 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:02:22.730+08:00  INFO 41008 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1150 ms
2024-06-21T18:02:23.011+08:00 DEBUG 41008 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:02:23.220+08:00  INFO 41008 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:02:23.576+08:00  INFO 41008 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cd93621, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b1137b0, org.springframework.security.web.context.SecurityContextHolderFilter@2e030cc1, org.springframework.security.web.header.HeaderWriterFilter@1abf951a, org.springframework.security.web.authentication.logout.LogoutFilter@3051e476, cn.rzpt.user.application.filter.TokenFilter@7f5e6833, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14bf9fd0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20518250, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21ba0d33, org.springframework.security.web.session.SessionManagementFilter@23365142, org.springframework.security.web.access.ExceptionTranslationFilter@6dc2e473, org.springframework.security.web.access.intercept.AuthorizationFilter@31c0c7e5]
2024-06-21T18:02:24.100+08:00  INFO 41008 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:02:24.107+08:00  INFO 41008 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 2.909 seconds (process running for 3.296)
2024-06-21T18:02:24.160+08:00  INFO 41008 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：18
2024-06-21T18:02:24.268+08:00  INFO 41008 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:18
2024-06-21T18:02:24.268+08:00  INFO 41008 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wax9932
2024-06-21T18:02:24.270+08:00  INFO 41008 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T18:02:24.623+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:02:24.623+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:02:24.625+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-06-21T18:02:34.532+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:02:34.722+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-6] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1826c0ab
2024-06-21T18:02:34.724+08:00  INFO 41008 --- [ddd-demo] [http-nio-9999-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:02:34.732+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:02:34.754+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa9932(String)
2024-06-21T18:02:34.773+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-6] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:02:34.780+08:00 ERROR 41008 --- [ddd-demo] [http-nio-9999-exec-6] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T18:02:37.096+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:02:37.097+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa993332(String)
2024-06-21T18:02:37.099+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:02:37.185+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:02:37.186+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wa993332(String), 追风少年(String), $2a$10$Ou7v2sjHZ8RfYzDxl3WklOOCSA4DxFd9hURhp150Ufp789r0Utrlq(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:02:37.094503100(LocalDateTime), 2024-06-21T18:02:37.095503300(LocalDateTime)
2024-06-21T18:02:37.192+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:02:37.196+08:00 DEBUG 41008 --- [ddd-demo] [http-nio-9999-exec-7] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:02:37","data":{"id":20,"username":"3Wa993332","nickname":"追风少年","password":"$2a$10$Ou7v2sjHZ8RfYzDxl3WklOOCSA4DxFd9hURhp150Ufp789r0Utrlq","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:02:37","updateTime":"2024-06-21 18:02:37"}}
2024-06-21T18:04:25.631+08:00  INFO 41008 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:04:25.643+08:00  INFO 41008 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:04:27.606+08:00  INFO 48784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 48784 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:04:27.608+08:00 DEBUG 48784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:04:27.609+08:00  INFO 48784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:04:28.262+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:04:28.264+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:04:28.279+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:04:28.284+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:04:28.284+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:04:28.289+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:04:28.296+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:04:28.297+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:04:28.306+08:00  INFO 48784 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:04:28.640+08:00 ERROR 48784 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:04:28.787+08:00  INFO 48784 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:04:28.797+08:00  INFO 48784 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:04:28.797+08:00  INFO 48784 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:04:28.843+08:00  INFO 48784 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:04:28.843+08:00  INFO 48784 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1202 ms
2024-06-21T18:04:29.149+08:00 DEBUG 48784 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:04:29.383+08:00  INFO 48784 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:04:29.761+08:00  INFO 48784 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68229a6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62615be, org.springframework.security.web.context.SecurityContextHolderFilter@44da745f, org.springframework.security.web.header.HeaderWriterFilter@cd93621, org.springframework.security.web.authentication.logout.LogoutFilter@3d7caf9c, cn.rzpt.user.application.filter.TokenFilter@416a4275, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@574f9e36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e057637, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@477bea57, org.springframework.security.web.session.SessionManagementFilter@6ee1ddcf, org.springframework.security.web.access.ExceptionTranslationFilter@912747d, org.springframework.security.web.access.intercept.AuthorizationFilter@34e68840]
2024-06-21T18:04:30.312+08:00  INFO 48784 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:04:30.320+08:00  INFO 48784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.074 seconds (process running for 3.596)
2024-06-21T18:04:34.902+08:00  INFO 48784 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：18
2024-06-21T18:04:35.059+08:00  INFO 48784 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:18
2024-06-21T18:04:40.807+08:00  INFO 48784 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wax9932
2024-06-21T18:04:40.809+08:00  INFO 48784 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : --/
---------------------------------------------------------------------------------------
	Application 'ddd-demo' is running! Access URLs:
	Local: 		http://localhost:9999
	Swagger: 		http://localhost:9999/doc.html
	Profile(s): 	[]
---------------------------------------------------------------------------------------
2024-06-21T18:04:59.189+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:04:59.189+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:04:59.191+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-06-21T18:05:05.077+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:05:05.294+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41bd9780
2024-06-21T18:05:05.296+08:00  INFO 48784 --- [ddd-demo] [http-nio-9999-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:05:05.302+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-5] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:05:05.319+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-5] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa993332(String)
2024-06-21T18:05:05.338+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-5] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:05:05.345+08:00 ERROR 48784 --- [ddd-demo] [http-nio-9999-exec-5] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T18:05:09.216+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:05:09.216+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa9933232(String)
2024-06-21T18:05:09.218+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:05:09.298+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:05:09.299+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wa9933232(String), 追风少年(String), $2a$10$XiVSsz1JJ/Dymy8Irr6XGOocxybNGIDw1hmImRKFdDMSXEzHOtXMO(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:05:09.214137400(LocalDateTime), 2024-06-21T18:05:09.214137400(LocalDateTime)
2024-06-21T18:05:09.326+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:05:09.332+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-4] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:05:09","data":{"id":21,"username":"3Wa9933232","nickname":"追风少年","password":"$2a$10$XiVSsz1JJ/Dymy8Irr6XGOocxybNGIDw1hmImRKFdDMSXEzHOtXMO","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:05:09","updateTime":"2024-06-21 18:05:09"}}
2024-06-21T18:05:19.969+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:05:19.969+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3Wa23232(String)
2024-06-21T18:05:19.971+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:05:20.043+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:05:20.044+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3Wa23232(String), 追风少年(String), $2a$10$yrocP38uELas1u7L10IHRup5SQiCWXIQ97yIGkf43Oy7cCo0I.ySO(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:05:19.953736300(LocalDateTime), 2024-06-21T18:05:19.953736300(LocalDateTime)
2024-06-21T18:05:20.049+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:05:20.049+08:00 DEBUG 48784 --- [ddd-demo] [http-nio-9999-exec-7] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:05:20","data":{"id":22,"username":"3Wa23232","nickname":"追风少年","password":"$2a$10$yrocP38uELas1u7L10IHRup5SQiCWXIQ97yIGkf43Oy7cCo0I.ySO","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:05:19","updateTime":"2024-06-21 18:05:19"}}
2024-06-21T18:05:52.894+08:00  INFO 48784 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:05:52.904+08:00  INFO 48784 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:05:56.394+08:00  INFO 31476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 31476 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:05:56.396+08:00 DEBUG 31476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:05:56.397+08:00  INFO 31476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:05:57.072+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:05:57.073+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:05:57.089+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:05:57.094+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:05:57.095+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:05:57.100+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:05:57.108+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:05:57.109+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:05:57.119+08:00  INFO 31476 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:05:57.473+08:00 ERROR 31476 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:05:57.627+08:00  INFO 31476 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:05:57.638+08:00  INFO 31476 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:05:57.638+08:00  INFO 31476 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:05:57.689+08:00  INFO 31476 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:05:57.689+08:00  INFO 31476 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1248 ms
2024-06-21T18:05:58.001+08:00 DEBUG 31476 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:05:58.246+08:00  INFO 31476 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:05:58.644+08:00  INFO 31476 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f98ac31, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cb6abc8, org.springframework.security.web.context.SecurityContextHolderFilter@7577589, org.springframework.security.web.header.HeaderWriterFilter@60b4d934, org.springframework.security.web.authentication.logout.LogoutFilter@782dc5, cn.rzpt.user.application.filter.TokenFilter@50de907a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cb58e8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ed84be9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20e48e63, org.springframework.security.web.session.SessionManagementFilter@4dffa400, org.springframework.security.web.access.ExceptionTranslationFilter@574f9e36, org.springframework.security.web.access.intercept.AuthorizationFilter@34e4fb39]
2024-06-21T18:05:59.205+08:00  INFO 31476 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:05:59.213+08:00  INFO 31476 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.205 seconds (process running for 3.699)
2024-06-21T18:06:02.222+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：18
2024-06-21T18:06:02.714+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wax9932
2024-06-21T18:06:05.038+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:05.494+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$YNalOGpofGzhsdFhGinrgO0.OLE3EKJqW0Nz3KWNplpkD/Vjq/BZu
2024-06-21T18:06:05.877+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:06.296+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:06.752+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:07.163+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:07.614+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:00:12
2024-06-21T18:06:07.931+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:00:12
2024-06-21T18:06:07.931+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:06:08.229+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：19
2024-06-21T18:06:08.557+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wa9932
2024-06-21T18:06:09.168+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:09.492+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$t5XQOit026og8W45GGwaRO3Z6pSy5oUfnuEgnRK2mad69dGev7/oC
2024-06-21T18:06:09.795+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:10.085+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:10.328+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:10.530+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:10.720+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:02:05
2024-06-21T18:06:11.196+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:02:05
2024-06-21T18:06:11.197+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:06:12.138+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：20
2024-06-21T18:06:12.297+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wa993332
2024-06-21T18:06:12.729+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:12.862+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$Ou7v2sjHZ8RfYzDxl3WklOOCSA4DxFd9hURhp150Ufp789r0Utrlq
2024-06-21T18:06:13.025+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:13.259+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:13.637+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:13.998+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:14.143+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:02:37
2024-06-21T18:06:14.418+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:02:37
2024-06-21T18:06:14.418+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:06:14.555+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：21
2024-06-21T18:06:14.703+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wa9933232
2024-06-21T18:06:14.917+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:15.183+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$XiVSsz1JJ/Dymy8Irr6XGOocxybNGIDw1hmImRKFdDMSXEzHOtXMO
2024-06-21T18:06:15.439+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:15.701+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:15.868+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:15.984+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:16.109+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:05:09
2024-06-21T18:06:16.387+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:05:09
2024-06-21T18:06:16.388+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:06:16.568+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：22
2024-06-21T18:06:16.811+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：3Wa23232
2024-06-21T18:06:17.308+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:17.606+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$yrocP38uELas1u7L10IHRup5SQiCWXIQ97yIGkf43Oy7cCo0I.ySO
2024-06-21T18:06:17.735+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:17.898+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:18.254+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:18.509+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:18.639+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:05:20
2024-06-21T18:06:18.891+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:05:20
2024-06-21T18:06:18.891+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:06:28.188+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:06:28.189+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:06:28.190+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T18:06:28.358+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:06:28.579+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bf56292
2024-06-21T18:06:28.581+08:00  INFO 31476 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:06:28.589+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:06:28.609+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 33232(String)
2024-06-21T18:06:28.631+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:06:28.713+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:06:28.713+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 33232(String), 追风少年(String), $2a$10$fYVFCwgcd4I4J4Pv96klZePjvsQPVgwjP8/AkeYCAbzHsj4foTs3a(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:06:28.288923700(LocalDateTime), 2024-06-21T18:06:28.288923700(LocalDateTime)
2024-06-21T18:06:28.720+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:06:28.731+08:00 DEBUG 31476 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:06:28","data":{"id":23,"username":"33232","nickname":"追风少年","password":"$2a$10$fYVFCwgcd4I4J4Pv96klZePjvsQPVgwjP8/AkeYCAbzHsj4foTs3a","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:06:28","updateTime":"2024-06-21 18:06:28"}}
2024-06-21T18:06:30.970+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：id,--字段值：23
2024-06-21T18:06:31.369+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：username,--字段值：33232
2024-06-21T18:06:31.902+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：nickname,--字段值：追风少年
2024-06-21T18:06:32.339+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：password,--字段值：$2a$10$fYVFCwgcd4I4J4Pv96klZePjvsQPVgwjP8/AkeYCAbzHsj4foTs3a
2024-06-21T18:06:32.722+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：email,--字段值：7000@qq.com
2024-06-21T18:06:33.066+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：sex,--字段值：0
2024-06-21T18:06:33.433+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：del_flag,--字段值：0
2024-06-21T18:06:33.761+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：last_login_time,--字段值：
2024-06-21T18:06:34.105+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：create_time,--字段值：2024-06-21 18:06:28
2024-06-21T18:06:34.426+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user,--字段名：update_time,--字段值：2024-06-21 18:06:28
2024-06-21T18:06:34.426+08:00  INFO 31476 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:07:58.572+08:00  INFO 31476 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:07:58.582+08:00  INFO 31476 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:08:02.009+08:00  INFO 11348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 11348 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:08:02.010+08:00 DEBUG 11348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:08:02.011+08:00  INFO 11348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:08:02.667+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:08:02.669+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:08:02.686+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:08:02.690+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:08:02.692+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:08:02.697+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:08:02.705+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:08:02.706+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:08:02.715+08:00  INFO 11348 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:08:03.051+08:00 ERROR 11348 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:08:03.201+08:00  INFO 11348 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:08:03.211+08:00  INFO 11348 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:08:03.211+08:00  INFO 11348 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:08:03.259+08:00  INFO 11348 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:08:03.259+08:00  INFO 11348 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1201 ms
2024-06-21T18:08:03.568+08:00 DEBUG 11348 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:08:03.806+08:00  INFO 11348 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:08:04.198+08:00  INFO 11348 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34e4fb39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36fe83d, org.springframework.security.web.context.SecurityContextHolderFilter@4dffa400, org.springframework.security.web.header.HeaderWriterFilter@2435c6ae, org.springframework.security.web.authentication.logout.LogoutFilter@4a9ff419, cn.rzpt.user.application.filter.TokenFilter@1fd37440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@438c0aaf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@522f0bb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@310f8a05, org.springframework.security.web.session.SessionManagementFilter@1bf10539, org.springframework.security.web.access.ExceptionTranslationFilter@70aa03c0, org.springframework.security.web.access.intercept.AuthorizationFilter@1eb52131]
2024-06-21T18:08:04.733+08:00  INFO 11348 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:08:04.740+08:00  INFO 11348 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.095 seconds (process running for 3.555)
2024-06-21T18:08:10.856+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:08:10.857+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:08:10.858+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T18:08:11.057+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:08:11.310+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d843131
2024-06-21T18:08:11.313+08:00  INFO 11348 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:08:11.320+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:08:11.343+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 33333232(String)
2024-06-21T18:08:11.371+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:08:11.466+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:08:11.467+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 33333232(String), 追风少年(String), $2a$10$LPnXBEjXSPfDsV35xl2mhuwnQQBxYPMKvd/i3mDQ/b9fjj64rCUCy(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:08:10.980858900(LocalDateTime), 2024-06-21T18:08:10.980858900(LocalDateTime)
2024-06-21T18:08:11.474+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:08:11.488+08:00 DEBUG 11348 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:08:11","data":{"id":24,"username":"33333232","nickname":"追风少年","password":"$2a$10$LPnXBEjXSPfDsV35xl2mhuwnQQBxYPMKvd/i3mDQ/b9fjj64rCUCy","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:08:10","updateTime":"2024-06-21 18:08:10"}}
2024-06-21T18:08:13.613+08:00  INFO 11348 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ID:24
2024-06-21T18:08:14.141+08:00  INFO 11348 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 用户名：33333232
2024-06-21T18:08:14.602+08:00  INFO 11348 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 昵称：追风少年
2024-06-21T18:08:15.359+08:00  INFO 11348 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 邮箱：7000@qq.com
2024-06-21T18:08:16.837+08:00  INFO 11348 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:09:18.013+08:00  INFO 11348 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:09:18.026+08:00  INFO 11348 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:09:21.382+08:00  INFO 48040 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 48040 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:09:21.384+08:00 DEBUG 48040 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:09:21.385+08:00  INFO 48040 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:09:22.063+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:09:22.065+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:09:22.081+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:09:22.086+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:09:22.086+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:09:22.091+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:09:22.100+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:09:22.101+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:09:22.111+08:00  INFO 48040 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:09:22.459+08:00 ERROR 48040 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:09:22.617+08:00  INFO 48040 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:09:22.628+08:00  INFO 48040 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:09:22.628+08:00  INFO 48040 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:09:22.680+08:00  INFO 48040 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:09:22.681+08:00  INFO 48040 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1252 ms
2024-06-21T18:09:22.998+08:00 DEBUG 48040 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:09:23.256+08:00  INFO 48040 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:09:23.678+08:00  INFO 48040 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62615be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@477bea57, org.springframework.security.web.context.SecurityContextHolderFilter@2435c6ae, org.springframework.security.web.header.HeaderWriterFilter@3b1137b0, org.springframework.security.web.authentication.logout.LogoutFilter@4e26040f, cn.rzpt.user.application.filter.TokenFilter@350d26f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77db231c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@762f8ff6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc7391e, org.springframework.security.web.session.SessionManagementFilter@6b630d4b, org.springframework.security.web.access.ExceptionTranslationFilter@78ea700f, org.springframework.security.web.access.intercept.AuthorizationFilter@510203de]
2024-06-21T18:09:24.273+08:00  INFO 48040 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:09:24.281+08:00  INFO 48040 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.279 seconds (process running for 3.757)
2024-06-21T18:09:26.967+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:09:26.967+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:09:26.968+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-21T18:09:27.145+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:09:27.346+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@230193b0
2024-06-21T18:09:27.347+08:00  INFO 48040 --- [ddd-demo] [http-nio-9999-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:09:27.353+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:09:27.371+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 33333232(String)
2024-06-21T18:09:27.388+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-2] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:09:27.398+08:00 ERROR 48040 --- [ddd-demo] [http-nio-9999-exec-2] cn.rzpt.base.exception.GlobalException   : [POST] http://localhost:9999/api/user/register 用户名已存在
2024-06-21T18:09:29.527+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:09:29.527+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: 3333232(String)
2024-06-21T18:09:29.532+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:09:29.611+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:09:29.612+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: 3333232(String), 追风少年(String), $2a$10$9xfMMtx.tJk00mmD07H3QeAFbzKhDfhqoeVX6vQo/BVmJPka9.Zce(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:09:29.522547500(LocalDateTime), 2024-06-21T18:09:29.522547500(LocalDateTime)
2024-06-21T18:09:29.621+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:09:29.636+08:00 DEBUG 48040 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:09:29","data":{"id":25,"username":"3333232","nickname":"追风少年","password":"$2a$10$9xfMMtx.tJk00mmD07H3QeAFbzKhDfhqoeVX6vQo/BVmJPka9.Zce","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:09:29","updateTime":"2024-06-21 18:09:29"}}
2024-06-21T18:09:31.961+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ID:25
2024-06-21T18:09:32.454+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 用户名：3333232
2024-06-21T18:09:32.870+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 昵称：追风少年
2024-06-21T18:09:33.726+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 邮箱：7000@qq.com
2024-06-21T18:09:35.535+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:09:50.538+08:00  INFO 48040 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:25
2024-06-21T18:12:45.638+08:00  INFO 48040 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:12:45.646+08:00  INFO 48040 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-21T18:12:49.183+08:00  INFO 47388 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Starting DddDemoApplication using Java 17.0.2 with PID 47388 (C:\Users\waxja\Desktop\DDD-Demo\target\classes started by waxja in C:\Users\waxja\Desktop\DDD-Demo)
2024-06-21T18:12:49.185+08:00 DEBUG 47388 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Running with Spring Boot v3.3.0, Spring v6.1.8
2024-06-21T18:12:49.185+08:00  INFO 47388 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : No active profile set, falling back to 1 default profile: "default"
2024-06-21T18:12:49.938+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:12:49.940+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:12:49.954+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Elasticsearch repository interfaces.
2024-06-21T18:12:49.959+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:12:49.959+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2024-06-21T18:12:49.964+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Reactive Elasticsearch repository interfaces.
2024-06-21T18:12:49.973+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-06-21T18:12:49.973+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-06-21T18:12:49.982+08:00  INFO 47388 --- [ddd-demo] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2024-06-21T18:12:50.328+08:00 ERROR 47388 --- [ddd-demo] [main] o.a.catalina.core.AprLifecycleListener   : An incompatible version [1.2.30] of the Apache Tomcat Native library is installed, while Tomcat requires version [1.2.34]
2024-06-21T18:12:50.481+08:00  INFO 47388 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 9999 (http)
2024-06-21T18:12:50.490+08:00  INFO 47388 --- [ddd-demo] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-21T18:12:50.491+08:00  INFO 47388 --- [ddd-demo] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-21T18:12:50.541+08:00  INFO 47388 --- [ddd-demo] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-21T18:12:50.542+08:00  INFO 47388 --- [ddd-demo] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1321 ms
2024-06-21T18:12:50.843+08:00 DEBUG 47388 --- [ddd-demo] [main] c.r.user.application.filter.TokenFilter  : Filter 'tokenFilter' configured for use
2024-06-21T18:12:51.075+08:00  INFO 47388 --- [ddd-demo] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2024-06-21T18:12:51.454+08:00  INFO 47388 --- [ddd-demo] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34e4fb39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36fe83d, org.springframework.security.web.context.SecurityContextHolderFilter@4dffa400, org.springframework.security.web.header.HeaderWriterFilter@2435c6ae, org.springframework.security.web.authentication.logout.LogoutFilter@4a9ff419, cn.rzpt.user.application.filter.TokenFilter@1fd37440, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@438c0aaf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@522f0bb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@310f8a05, org.springframework.security.web.session.SessionManagementFilter@1bf10539, org.springframework.security.web.access.ExceptionTranslationFilter@70aa03c0, org.springframework.security.web.access.intercept.AuthorizationFilter@1eb52131]
2024-06-21T18:12:51.987+08:00  INFO 47388 --- [ddd-demo] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 9999 (http) with context path '/'
2024-06-21T18:12:51.995+08:00  INFO 47388 --- [ddd-demo] [main] cn.rzpt.DddDemoApplication               : Started DddDemoApplication in 3.204 seconds (process running for 3.691)
2024-06-21T18:12:57.577+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-21T18:12:57.578+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-21T18:12:57.579+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-06-21T18:12:57.766+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-21T18:12:57.963+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d2635ac
2024-06-21T18:12:57.965+08:00  INFO 47388 --- [ddd-demo] [http-nio-9999-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-21T18:12:57.970+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:12:57.987+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: Admin(String)
2024-06-21T18:12:58.006+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:12:58.085+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:12:58.086+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: Admin(String), 追风少年(String), $2a$10$D4c53y5wni62/FrPGT.dEOkRy3VYE7rsrv9Ib1eBWo9EgiE/7/GZa(String), 7000@qq.com(String), 0(Integer), 2024-06-21T18:12:57.693367500(LocalDateTime), 2024-06-21T18:12:57.693367500(LocalDateTime)
2024-06-21T18:12:58.093+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:12:58.106+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-1] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:12:58","data":{"id":26,"username":"Admin","nickname":"追风少年","password":"$2a$10$D4c53y5wni62/FrPGT.dEOkRy3VYE7rsrv9Ib1eBWo9EgiE/7/GZa","email":"7000@qq.com","sex":0,"createTime":"2024-06-21 18:12:57","updateTime":"2024-06-21 18:12:57"}}
2024-06-21T18:13:00.371+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ID:26
2024-06-21T18:13:01.905+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 用户名：Admin
2024-06-21T18:13:01.905+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 昵称：追风少年
2024-06-21T18:13:01.905+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 邮箱：7000@qq.com
2024-06-21T18:13:01.906+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:13:02.038+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:IQZJOpABzSsMkbqpAzy8
2024-06-21T18:18:44.706+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.706+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.706+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.706+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.706+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:18:44.708+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 删除数据：库名：student,--表名：sys_user
2024-06-21T18:19:07.249+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:19:07.250+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: MyMameWax(String)
2024-06-21T18:19:07.252+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:19:07.324+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:19:07.325+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: MyMameWax(String), 追风少年(String), $2a$10$Z6RZurOq8.St1ZBWnH/IrOwvffSWxgvV6l.eKgXRD40S26s3k4vpm(String), waxjava04@163.com(String), 0(Integer), 2024-06-21T18:19:07.247898300(LocalDateTime), 2024-06-21T18:19:07.247898300(LocalDateTime)
2024-06-21T18:19:07.331+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:19:07.331+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-3] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:19:07","data":{"id":27,"username":"MyMameWax","nickname":"追风少年","password":"$2a$10$Z6RZurOq8.St1ZBWnH/IrOwvffSWxgvV6l.eKgXRD40S26s3k4vpm","email":"waxjava04@163.com","sex":0,"createTime":"2024-06-21 18:19:07","updateTime":"2024-06-21 18:19:07"}}
2024-06-21T18:19:07.979+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ID:27
2024-06-21T18:19:07.980+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 用户名：MyMameWax
2024-06-21T18:19:07.980+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 昵称：追风少年
2024-06-21T18:19:07.980+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 邮箱：waxjava04@163.com
2024-06-21T18:19:07.980+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:19:08.141+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:IgZOOpABzSsMkbqpmTy2
2024-06-21T18:19:39.070+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectCount  : ==>  Preparing: SELECT COUNT( * ) AS total FROM sys_user WHERE (username = ?)
2024-06-21T18:19:39.071+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectCount  : ==> Parameters: xuzihan(String)
2024-06-21T18:19:39.073+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.selectCount  : <==      Total: 1
2024-06-21T18:19:39.138+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.insert       : ==>  Preparing: INSERT INTO sys_user ( username, nickname, password, email, sex, create_time, update_time ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
2024-06-21T18:19:39.138+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.insert       : ==> Parameters: xuzihan(String), 临风不自傲(String), $2a$10$qzYzgxkmrZ813lmgsub8suetEglrOSToTnRP9tH4YLcUTVjTkofsa(String), test@163.com(String), 1(Integer), 2024-06-21T18:19:39.069936300(LocalDateTime), 2024-06-21T18:19:39.069936300(LocalDateTime)
2024-06-21T18:19:39.145+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.u.i.r.mapper.UserMapper.insert       : <==    Updates: 1
2024-06-21T18:19:39.145+08:00 DEBUG 47388 --- [ddd-demo] [http-nio-9999-exec-10] c.r.s.event.DomainEventPublisherImpl     : 发布事件,cn.rzpt.user.infrastructure.handler：{"publishTime":"2024-06-21 18:19:39","data":{"id":28,"username":"xuzihan","nickname":"临风不自傲","password":"$2a$10$qzYzgxkmrZ813lmgsub8suetEglrOSToTnRP9tH4YLcUTVjTkofsa","email":"test@163.com","sex":1,"createTime":"2024-06-21 18:19:39","updateTime":"2024-06-21 18:19:39"}}
2024-06-21T18:19:39.475+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : ID:28
2024-06-21T18:19:39.476+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 用户名：xuzihan
2024-06-21T18:19:39.476+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 昵称：临风不自傲
2024-06-21T18:19:39.476+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 邮箱：test@163.com
2024-06-21T18:19:39.476+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.infrastructure.config.CanalConfig  : 新增数据：库名：student,--表名：sys_user
2024-06-21T18:19:39.489+08:00  INFO 47388 --- [ddd-demo] [main] c.r.u.a.s.i.UserApplicationServiceImpl   : 同步Es数据:IwZPOpABzSsMkbqpFDxZ
2024-06-21T18:21:22.467+08:00  INFO 47388 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-21T18:21:22.487+08:00  INFO 47388 --- [ddd-demo] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
